{"version":3,"sources":["webpack://XtermPlayer/webpack/universalModuleDefinition","webpack://XtermPlayer/webpack/bootstrap","webpack://XtermPlayer/external {\"commonjs\":[\"xterm\",\"Terminal\"],\"commonjs2\":[\"xterm\",\"Terminal\"],\"amd\":[\"xterm\",\"Terminal\"],\"root\":\"Terminal\"}","webpack://XtermPlayer/./src/ui/icons/play.svg","webpack://XtermPlayer/./src/ui/icons/pause.svg","webpack://XtermPlayer/./src/ui/icons/replay.svg","webpack://XtermPlayer/./src/ui/icons/volume-high.svg","webpack://XtermPlayer/./src/ui/icons/volume-low.svg","webpack://XtermPlayer/./src/ui/icons/volume-mute.svg","webpack://XtermPlayer/./src/ui/icons/warning.svg","webpack://XtermPlayer/./src/ui/ui.scss?4a57","webpack://XtermPlayer/./src/ui/ui.scss","webpack://XtermPlayer/./node_modules/css-loader/dist/runtime/api.js","webpack://XtermPlayer/./node_modules/style-loader/lib/addStyles.js","webpack://XtermPlayer/./node_modules/style-loader/lib/urls.js","webpack://XtermPlayer/./src/ui/DomHelper.ts","webpack://XtermPlayer/./src/Timer.ts","webpack://XtermPlayer/./src/Utils.ts","webpack://XtermPlayer/./src/Frame.ts","webpack://XtermPlayer/./src/Events.ts","webpack://XtermPlayer/./src/ui/ProgressBarView.ts","webpack://XtermPlayer/./src/ui/Icons.ts","webpack://XtermPlayer/./src/ui/ControlBarView.ts","webpack://XtermPlayer/./src/ui/PlayerView.ts","webpack://XtermPlayer/./src/Theme.ts","webpack://XtermPlayer/./src/CastParser.ts","webpack://XtermPlayer/./src/Types.ts","webpack://XtermPlayer/./src/CastFetcher.ts","webpack://XtermPlayer/./src/Player.ts"],"names":["root","factory","exports","module","require","define","amd","this","__WEBPACK_EXTERNAL_MODULE__0__","installedModules","__webpack_require__","m","content","i","options","transform","undefined","locals","push","useSourceMap","list","toString","map","item","cssMapping","btoa","sourceMapping","sourceMap","unescape","encodeURIComponent","JSON","stringify","toComment","sourceURLs","sources","source","sourceRoot","concat","join","cssWithMappingToString","modules","mediaQuery","alreadyImportedModules","length","id","fn","memo","stylesInDom","isOldIE","window","document","all","atob","apply","arguments","getElement","target","parent","styleTarget","querySelector","call","HTMLIFrameElement","contentDocument","head","e","singleton","singletonCounter","stylesInsertedAtTop","fixUrls","addStylesToDom","styles","domStyle","refs","j","parts","addStyle","listToStyles","newStyles","base","part","css","media","insertStyleElement","style","insertInto","Error","lastStyleElementInsertedAtTop","insertAt","nextSibling","insertBefore","appendChild","firstChild","before","removeStyleElement","parentNode","removeChild","idx","indexOf","splice","createStyleElement","createElement","attrs","type","nonce","getNonce","addAttrs","el","Object","keys","forEach","key","setAttribute","obj","update","remove","result","link","default","styleIndex","applyToSingletonTag","bind","URL","createObjectURL","revokeObjectURL","Blob","rel","autoFixUrls","convertToAbsoluteUrls","blob","oldSrc","href","styleSheet","cssText","createTextNode","newObj","DEBUG","newList","mayRemove","textStore","replaceText","index","replacement","filter","Boolean","cssNode","childNodes","location","baseUrl","protocol","host","currentDir","pathname","replace","fullMatch","origUrl","newUrl","unquotedOrigUrl","trim","o","$1","test","name","opts","class","on","ev","addEventListener","text","innerText","append","children","$div","addDisposableDomListener","node","handler","useCapture","disposed","dispose","removeEventListener","_cb","start","cb","stop","now","_time","tick","_interval","_tid","setInterval","interval","clearInterval","Date","_rafid","_tick","requestAnimationFrame","cancelAnimationFrame","performance","NULL_FN","pause","isRunning","isPaused","isStopped","onReady","onTick","onStateChange","ready","state","duration","NaN","progress","timescale","time","_duration","_timescale","_lasttime","_ticker","_setState","_state","_onStateChangeCb","_onReadyCb","_onTickCb","delta","_ready","_media","currentTime","t","playbackRate","s","running","play","paused","ended","_disposes","d","AnimationFrameTicker","console","error","log","get","len","_arr","_start","_end","add0","n","formatTime","millisecond","second","Infinity","isNaN","hour","Math","floor","min","sec","endTime","startTime","data","snapshot","prev","DEFAULT_FRAME_SNAPSHOT_FN","NULL_FRAME","freeze","NullFrame","START_FRAME","_prev","f","_snapshotCache","tmp","_events","Array","ret","_snapshotFn","isEnd","frame","_endFrame","_frames","frames","mid","max","cast","step","snapshotFn","header","events","ceil","end","slice","Slice","CastEventsFrame","_event","listener","_listeners","_disposed","fire","arg","_onSeek","onEvent","_progress","value","_updateProgress","_progressElement","width","_updateProgressHover","evt","percent","clientX","element","getBoundingClientRect","left","clientWidth","_progressHover","EventEmitter","opacity","Play","Pause","Replay","VolumeHigh","VolumeLow","VolumeMute","Warning","_updatePlaybackButton","_currentTime","_updateTimeDisplay","_player","_playbackRate","toFixed","onPlaybackButtonClick","_playbackButton","onSeek","_progressBar","innerHTML","Icons","_timeDisplay","_updateVolume","muted","_volume","v","volume","_playbackRateItems","$span","_playbackRateSettingBox","classList","toggle","parseFloat","dataset","onVolumeChanged","onMutedChanged","controlBar","_updateBigButton","_showControlBar","_hideControlBar","_bigButton","display","_spinner","_togglePlayPauseReplay","replay","tabindex","videoWrapper","preventDefault","code","onAfterRender","onCurrentTimeChanged","onPlaybackRateChanged","onStateChanged","SOLARIZED_DARK","foreground","background","black","blue","cyan","green","magenta","red","white","yellow","brightBlack","brightBlue","brightCyan","brightGreen","brightMagenta","brightRed","brightWhite","brightYellow","SOLARIZED_LIGHT","cursor","cursorAccent","parse","factories","AsciinemaCastParser","TerminalizerParser","cls","debug","err","stdouts","stdout","timestamp","version","height","lines","split","txt","records","rec","delay","config","cols","rows","fetchCast","url","fetch","res","innerFetchCast","writeSync","term","_core","_onReady","_onLoading","_onAfterRender","_onCurrentTimeChanged","_onPlaybackRateChanged","_onVolumeChanged","_onMutedChanged","_onStateChanged","_load","_error","_loading","_term","reset","_timer","_queue","NullTimer","NullFrameQueue","_url","then","resize","audio","_audio","src","load","SimpleTimer","_render","catch","fontSize","getOption","fontFamily","fontWeight","fontWeightBold","theme","opt","setOption","rate","_lastframe","THEME_SOLARIZED_DARK","THEME_SOLARIZED_LIGHT","Terminal","createTerminal","Audio","_view","open","focus","c","getter","defineProperty","enumerable","r","Symbol","toStringTag","mode","__esModule","ns","create","object","property","prototype","hasOwnProperty","p","moduleId","l"],"mappings":"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","file":"js/xterm-player.min.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"xterm\")[\"Terminal\"]);\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"XtermPlayer\", [[\"xterm\",\"Terminal\"]], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"XtermPlayer\"] = factory(require(\"xterm\")[\"Terminal\"]);\n\telse\n\t\troot[\"XtermPlayer\"] = factory(root[\"Terminal\"]);\n})(this, function(__WEBPACK_EXTERNAL_MODULE__0__) {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 14);\n","module.exports = __WEBPACK_EXTERNAL_MODULE__0__;","module.exports = \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" version=\\\"1.1\\\" viewBox=\\\"0 0 36 36\\\" class=\\\"icon\\\"><path d=\\\"M 12,26 18.5,22 18.5,14 12,10 z M 18.5,22 25,18 25,18 18.5,14 z\\\"></path></svg>\"","module.exports = \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" version=\\\"1.1\\\" viewBox=\\\"0 0 36 36\\\" class=\\\"icon\\\"><path d=\\\"M 12,26 16,26 16,10 12,10 z M 21,26 25,26 25,10 21,10 z\\\"></path></svg>\"","module.exports = \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" version=\\\"1.1\\\" viewBox=\\\"0 0 36 36\\\" class=\\\"icon\\\"><path d=\\\"M 18,11 V 7 l -5,5 5,5 v -4 c 3.3,0 6,2.7 6,6 0,3.3 -2.7,6 -6,6 -3.3,0 -6,-2.7 -6,-6 h -2 c 0,4.4 3.6,8 8,8 4.4,0 8,-3.6 8,-8 0,-4.4 -3.6,-8 -8,-8 z\\\" id=\\\"ytp-id-141\\\"></path></svg>\"","module.exports = \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" version=\\\"1.1\\\" viewBox=\\\"0 0 36 36\\\" class=\\\"icon\\\"><path d=\\\"M8,21 L12,21 L17,26 L17,10 L12,15 L8,15 L8,21 Z M19,14 L19,22 C20.48,21.32 21.5,19.77 21.5,18 C21.5,16.26 20.48,14.74 19,14 ZM19,11.29 C21.89,12.15 24,14.83 24,18 C24,21.17 21.89,23.85 19,24.71 L19,26.77 C23.01,25.86 26,22.28 26,18 C26,13.72 23.01,10.14 19,9.23 L19,11.29 Z\\\"></path></svg>\"","module.exports = \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" version=\\\"1.1\\\" viewBox=\\\"0 0 36 36\\\" class=\\\"icon\\\"><path d=\\\"M8,21 L12,21 L17,26 L17,10 L12,15 L8,15 L8,21 Z M19,14 L19,22 C20.48,21.32 21.5,19.77 21.5,18 C21.5,16.26 20.48,14.74 19,14 Z\\\"></path></svg>\"","module.exports = \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" version=\\\"1.1\\\" viewBox=\\\"0 0 36 36\\\" class=\\\"icon\\\"><path d=\\\"m 21.48,17.98 c 0,-1.77 -1.02,-3.29 -2.5,-4.03 v 2.21 l 2.45,2.45 c .03,-0.2 .05,-0.41 .05,-0.63 z m 2.5,0 c 0,.94 -0.2,1.82 -0.54,2.64 l 1.51,1.51 c .66,-1.24 1.03,-2.65 1.03,-4.15 0,-4.28 -2.99,-7.86 -7,-8.76 v 2.05 c 2.89,.86 5,3.54 5,6.71 z M 9.25,8.98 l -1.27,1.26 4.72,4.73 H 7.98 v 6 H 11.98 l 5,5 v -6.73 l 4.25,4.25 c -0.67,.52 -1.42,.93 -2.25,1.18 v 2.06 c 1.38,-0.31 2.63,-0.95 3.69,-1.81 l 2.04,2.05 1.27,-1.27 -9,-9 -7.72,-7.72 z m 7.72,.99 -2.09,2.08 2.09,2.09 V 9.98 z\\\"></path></svg>\"","module.exports = \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" version=\\\"1.1\\\" viewBox=\\\"0 0 24 24\\\" class=\\\"icon\\\"><path d=\\\"M11 15h2v2h-2zm0-8h2v6h-2zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z\\\"></path></svg>\"","\nvar content = require(\"!!../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../node_modules/postcss-loader/src/index.js??ref--6-2!../../node_modules/sass-loader/dist/cjs.js!./ui.scss\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../node_modules/postcss-loader/src/index.js??ref--6-2!../../node_modules/sass-loader/dist/cjs.js!./ui.scss\", function() {\n\t\tvar newContent = require(\"!!../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../node_modules/postcss-loader/src/index.js??ref--6-2!../../node_modules/sass-loader/dist/cjs.js!./ui.scss\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../../node_modules/css-loader/dist/runtime/api.js\")(false);\n// Module\nexports.push([module.id, \"@-webkit-keyframes sk-flow{0%,80%,to{transform:scale(.3)}40%{transform:scale(1)}}@keyframes sk-flow{0%,80%,to{transform:scale(.3)}40%{transform:scale(1)}}.xp{outline:none;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.xp .sk-flow{width:52px;height:52px;display:flex;align-items:center;justify-content:space-between}.xp .sk-flow-dot{width:25%;height:25%;background-color:#fff;border-radius:50%;-webkit-animation:sk-flow 1.4s cubic-bezier(.455,.03,.515,.955) 0s infinite both;animation:sk-flow 1.4s cubic-bezier(.455,.03,.515,.955) 0s infinite both}.xp .sk-flow-dot:first-child{-webkit-animation-delay:-.3s;animation-delay:-.3s}.xp .sk-flow-dot:nth-child(2){-webkit-animation-delay:-.15s;animation-delay:-.15s}.xp *,.xp :after,.xp :before{box-sizing:border-box}.xp .xterm-viewport{overflow:hidden}.xp svg.icon{fill:#fff}.xp .xp-overlay{position:absolute;z-index:999}.xp .xp-overlay-center{left:50%;top:50%;transform:translate(-50%,-50%)}.xp .xp-overlay.xp-big-button{cursor:pointer;font-size:0;width:80px;background-color:red;border-radius:25px;box-shadow:0 0 80px 0 rgba(0,0,0,.5)}.xp .xp-control-bar{position:absolute;left:12px;right:12px;bottom:0;height:36px;color:#eee;background-color:rgba(0,0,0,.7);text-align:left;z-index:60;transition:opacity .2s ease-in-out .1s}.xp .xp-control-bar *{box-sizing:inherit;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.xp .xp-control-bar-left{position:absolute;height:100%;left:0;bottom:0}.xp .xp-control-bar-right{position:absolute;height:100%;right:0;bottom:0}.xp .xp-control-bar .xp-playback-rate-setting{display:inline-block;height:100%}.xp .xp-control-bar .xp-setting-box{display:none;width:70px;text-align:center;position:absolute;bottom:50px;right:0;padding:10px 0;border:1px solid hsla(0,0%,100%,.5)}.xp .xp-control-bar .xp-setting-box-open{display:block}.xp .xp-control-bar .xp-setting-box .xp-setting-item{cursor:pointer;padding:5px 0}.xp .xp-control-bar .xp-playback-rate{display:inline-block;width:40px;line-height:36px;text-align:center;font-size:14px;vertical-align:middle;cursor:pointer}.xp .xp-control-bar .xp-icon-button{display:inline-block;vertical-align:middle;cursor:pointer;height:100%;width:36px}.xp .xp-control-bar .xp-time-display{vertical-align:middle;padding:0 5px;line-height:36px;font-size:14px;white-space:nowrap;cursor:default}.xp .xp-progress-bar{position:absolute;bottom:36px;width:100%;height:5px;z-index:99;background-color:hsla(0,0%,100%,.2);cursor:pointer;transition:transform .1s cubic-bezier(.4,0,1,1)}.xp .xp-progress-bar:hover{transform:scaleY(1.5);transform-origin:center}.xp .xp-progress{position:absolute;left:0;height:100%;z-index:99;background-color:red}.xp .xp-progress-hover{position:absolute;left:0;width:100%;height:100%;background-color:hsla(0,0%,100%,.5);transform-origin:0 0}\", \"\"]);\n\n","\"use strict\";\n\n/*\n  MIT License http://www.opensource.org/licenses/mit-license.php\n  Author Tobias Koppers @sokra\n*/\n// css base code, injected by the css-loader\nmodule.exports = function (useSourceMap) {\n  var list = []; // return the list of modules as css string\n\n  list.toString = function toString() {\n    return this.map(function (item) {\n      var content = cssWithMappingToString(item, useSourceMap);\n\n      if (item[2]) {\n        return '@media ' + item[2] + '{' + content + '}';\n      } else {\n        return content;\n      }\n    }).join('');\n  }; // import a list of modules into the list\n\n\n  list.i = function (modules, mediaQuery) {\n    if (typeof modules === 'string') {\n      modules = [[null, modules, '']];\n    }\n\n    var alreadyImportedModules = {};\n\n    for (var i = 0; i < this.length; i++) {\n      var id = this[i][0];\n\n      if (id != null) {\n        alreadyImportedModules[id] = true;\n      }\n    }\n\n    for (i = 0; i < modules.length; i++) {\n      var item = modules[i]; // skip already imported module\n      // this implementation is not 100% perfect for weird media query combinations\n      // when a module is imported multiple times with different media queries.\n      // I hope this will never occur (Hey this way we have smaller bundles)\n\n      if (item[0] == null || !alreadyImportedModules[item[0]]) {\n        if (mediaQuery && !item[2]) {\n          item[2] = mediaQuery;\n        } else if (mediaQuery) {\n          item[2] = '(' + item[2] + ') and (' + mediaQuery + ')';\n        }\n\n        list.push(item);\n      }\n    }\n  };\n\n  return list;\n};\n\nfunction cssWithMappingToString(item, useSourceMap) {\n  var content = item[1] || '';\n  var cssMapping = item[3];\n\n  if (!cssMapping) {\n    return content;\n  }\n\n  if (useSourceMap && typeof btoa === 'function') {\n    var sourceMapping = toComment(cssMapping);\n    var sourceURLs = cssMapping.sources.map(function (source) {\n      return '/*# sourceURL=' + cssMapping.sourceRoot + source + ' */';\n    });\n    return [content].concat(sourceURLs).concat([sourceMapping]).join('\\n');\n  }\n\n  return [content].join('\\n');\n} // Adapted from convert-source-map (MIT)\n\n\nfunction toComment(sourceMap) {\n  // eslint-disable-next-line no-undef\n  var base64 = btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap))));\n  var data = 'sourceMappingURL=data:application/json;charset=utf-8;base64,' + base64;\n  return '/*# ' + data + ' */';\n}","/*\n\tMIT License http://www.opensource.org/licenses/mit-license.php\n\tAuthor Tobias Koppers @sokra\n*/\n\nvar stylesInDom = {};\n\nvar\tmemoize = function (fn) {\n\tvar memo;\n\n\treturn function () {\n\t\tif (typeof memo === \"undefined\") memo = fn.apply(this, arguments);\n\t\treturn memo;\n\t};\n};\n\nvar isOldIE = memoize(function () {\n\t// Test for IE <= 9 as proposed by Browserhacks\n\t// @see http://browserhacks.com/#hack-e71d8692f65334173fee715c222cb805\n\t// Tests for existence of standard globals is to allow style-loader\n\t// to operate correctly into non-standard environments\n\t// @see https://github.com/webpack-contrib/style-loader/issues/177\n\treturn window && document && document.all && !window.atob;\n});\n\nvar getTarget = function (target, parent) {\n  if (parent){\n    return parent.querySelector(target);\n  }\n  return document.querySelector(target);\n};\n\nvar getElement = (function (fn) {\n\tvar memo = {};\n\n\treturn function(target, parent) {\n                // If passing function in options, then use it for resolve \"head\" element.\n                // Useful for Shadow Root style i.e\n                // {\n                //   insertInto: function () { return document.querySelector(\"#foo\").shadowRoot }\n                // }\n                if (typeof target === 'function') {\n                        return target();\n                }\n                if (typeof memo[target] === \"undefined\") {\n\t\t\tvar styleTarget = getTarget.call(this, target, parent);\n\t\t\t// Special case to return head of iframe instead of iframe itself\n\t\t\tif (window.HTMLIFrameElement && styleTarget instanceof window.HTMLIFrameElement) {\n\t\t\t\ttry {\n\t\t\t\t\t// This will throw an exception if access to iframe is blocked\n\t\t\t\t\t// due to cross-origin restrictions\n\t\t\t\t\tstyleTarget = styleTarget.contentDocument.head;\n\t\t\t\t} catch(e) {\n\t\t\t\t\tstyleTarget = null;\n\t\t\t\t}\n\t\t\t}\n\t\t\tmemo[target] = styleTarget;\n\t\t}\n\t\treturn memo[target]\n\t};\n})();\n\nvar singleton = null;\nvar\tsingletonCounter = 0;\nvar\tstylesInsertedAtTop = [];\n\nvar\tfixUrls = require(\"./urls\");\n\nmodule.exports = function(list, options) {\n\tif (typeof DEBUG !== \"undefined\" && DEBUG) {\n\t\tif (typeof document !== \"object\") throw new Error(\"The style-loader cannot be used in a non-browser environment\");\n\t}\n\n\toptions = options || {};\n\n\toptions.attrs = typeof options.attrs === \"object\" ? options.attrs : {};\n\n\t// Force single-tag solution on IE6-9, which has a hard limit on the # of <style>\n\t// tags it will allow on a page\n\tif (!options.singleton && typeof options.singleton !== \"boolean\") options.singleton = isOldIE();\n\n\t// By default, add <style> tags to the <head> element\n        if (!options.insertInto) options.insertInto = \"head\";\n\n\t// By default, add <style> tags to the bottom of the target\n\tif (!options.insertAt) options.insertAt = \"bottom\";\n\n\tvar styles = listToStyles(list, options);\n\n\taddStylesToDom(styles, options);\n\n\treturn function update (newList) {\n\t\tvar mayRemove = [];\n\n\t\tfor (var i = 0; i < styles.length; i++) {\n\t\t\tvar item = styles[i];\n\t\t\tvar domStyle = stylesInDom[item.id];\n\n\t\t\tdomStyle.refs--;\n\t\t\tmayRemove.push(domStyle);\n\t\t}\n\n\t\tif(newList) {\n\t\t\tvar newStyles = listToStyles(newList, options);\n\t\t\taddStylesToDom(newStyles, options);\n\t\t}\n\n\t\tfor (var i = 0; i < mayRemove.length; i++) {\n\t\t\tvar domStyle = mayRemove[i];\n\n\t\t\tif(domStyle.refs === 0) {\n\t\t\t\tfor (var j = 0; j < domStyle.parts.length; j++) domStyle.parts[j]();\n\n\t\t\t\tdelete stylesInDom[domStyle.id];\n\t\t\t}\n\t\t}\n\t};\n};\n\nfunction addStylesToDom (styles, options) {\n\tfor (var i = 0; i < styles.length; i++) {\n\t\tvar item = styles[i];\n\t\tvar domStyle = stylesInDom[item.id];\n\n\t\tif(domStyle) {\n\t\t\tdomStyle.refs++;\n\n\t\t\tfor(var j = 0; j < domStyle.parts.length; j++) {\n\t\t\t\tdomStyle.parts[j](item.parts[j]);\n\t\t\t}\n\n\t\t\tfor(; j < item.parts.length; j++) {\n\t\t\t\tdomStyle.parts.push(addStyle(item.parts[j], options));\n\t\t\t}\n\t\t} else {\n\t\t\tvar parts = [];\n\n\t\t\tfor(var j = 0; j < item.parts.length; j++) {\n\t\t\t\tparts.push(addStyle(item.parts[j], options));\n\t\t\t}\n\n\t\t\tstylesInDom[item.id] = {id: item.id, refs: 1, parts: parts};\n\t\t}\n\t}\n}\n\nfunction listToStyles (list, options) {\n\tvar styles = [];\n\tvar newStyles = {};\n\n\tfor (var i = 0; i < list.length; i++) {\n\t\tvar item = list[i];\n\t\tvar id = options.base ? item[0] + options.base : item[0];\n\t\tvar css = item[1];\n\t\tvar media = item[2];\n\t\tvar sourceMap = item[3];\n\t\tvar part = {css: css, media: media, sourceMap: sourceMap};\n\n\t\tif(!newStyles[id]) styles.push(newStyles[id] = {id: id, parts: [part]});\n\t\telse newStyles[id].parts.push(part);\n\t}\n\n\treturn styles;\n}\n\nfunction insertStyleElement (options, style) {\n\tvar target = getElement(options.insertInto)\n\n\tif (!target) {\n\t\tthrow new Error(\"Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.\");\n\t}\n\n\tvar lastStyleElementInsertedAtTop = stylesInsertedAtTop[stylesInsertedAtTop.length - 1];\n\n\tif (options.insertAt === \"top\") {\n\t\tif (!lastStyleElementInsertedAtTop) {\n\t\t\ttarget.insertBefore(style, target.firstChild);\n\t\t} else if (lastStyleElementInsertedAtTop.nextSibling) {\n\t\t\ttarget.insertBefore(style, lastStyleElementInsertedAtTop.nextSibling);\n\t\t} else {\n\t\t\ttarget.appendChild(style);\n\t\t}\n\t\tstylesInsertedAtTop.push(style);\n\t} else if (options.insertAt === \"bottom\") {\n\t\ttarget.appendChild(style);\n\t} else if (typeof options.insertAt === \"object\" && options.insertAt.before) {\n\t\tvar nextSibling = getElement(options.insertAt.before, target);\n\t\ttarget.insertBefore(style, nextSibling);\n\t} else {\n\t\tthrow new Error(\"[Style Loader]\\n\\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\\n Must be 'top', 'bottom', or Object.\\n (https://github.com/webpack-contrib/style-loader#insertat)\\n\");\n\t}\n}\n\nfunction removeStyleElement (style) {\n\tif (style.parentNode === null) return false;\n\tstyle.parentNode.removeChild(style);\n\n\tvar idx = stylesInsertedAtTop.indexOf(style);\n\tif(idx >= 0) {\n\t\tstylesInsertedAtTop.splice(idx, 1);\n\t}\n}\n\nfunction createStyleElement (options) {\n\tvar style = document.createElement(\"style\");\n\n\tif(options.attrs.type === undefined) {\n\t\toptions.attrs.type = \"text/css\";\n\t}\n\n\tif(options.attrs.nonce === undefined) {\n\t\tvar nonce = getNonce();\n\t\tif (nonce) {\n\t\t\toptions.attrs.nonce = nonce;\n\t\t}\n\t}\n\n\taddAttrs(style, options.attrs);\n\tinsertStyleElement(options, style);\n\n\treturn style;\n}\n\nfunction createLinkElement (options) {\n\tvar link = document.createElement(\"link\");\n\n\tif(options.attrs.type === undefined) {\n\t\toptions.attrs.type = \"text/css\";\n\t}\n\toptions.attrs.rel = \"stylesheet\";\n\n\taddAttrs(link, options.attrs);\n\tinsertStyleElement(options, link);\n\n\treturn link;\n}\n\nfunction addAttrs (el, attrs) {\n\tObject.keys(attrs).forEach(function (key) {\n\t\tel.setAttribute(key, attrs[key]);\n\t});\n}\n\nfunction getNonce() {\n\tif (typeof __webpack_nonce__ === 'undefined') {\n\t\treturn null;\n\t}\n\n\treturn __webpack_nonce__;\n}\n\nfunction addStyle (obj, options) {\n\tvar style, update, remove, result;\n\n\t// If a transform function was defined, run it on the css\n\tif (options.transform && obj.css) {\n\t    result = typeof options.transform === 'function'\n\t\t ? options.transform(obj.css) \n\t\t : options.transform.default(obj.css);\n\n\t    if (result) {\n\t    \t// If transform returns a value, use that instead of the original css.\n\t    \t// This allows running runtime transformations on the css.\n\t    \tobj.css = result;\n\t    } else {\n\t    \t// If the transform function returns a falsy value, don't add this css.\n\t    \t// This allows conditional loading of css\n\t    \treturn function() {\n\t    \t\t// noop\n\t    \t};\n\t    }\n\t}\n\n\tif (options.singleton) {\n\t\tvar styleIndex = singletonCounter++;\n\n\t\tstyle = singleton || (singleton = createStyleElement(options));\n\n\t\tupdate = applyToSingletonTag.bind(null, style, styleIndex, false);\n\t\tremove = applyToSingletonTag.bind(null, style, styleIndex, true);\n\n\t} else if (\n\t\tobj.sourceMap &&\n\t\ttypeof URL === \"function\" &&\n\t\ttypeof URL.createObjectURL === \"function\" &&\n\t\ttypeof URL.revokeObjectURL === \"function\" &&\n\t\ttypeof Blob === \"function\" &&\n\t\ttypeof btoa === \"function\"\n\t) {\n\t\tstyle = createLinkElement(options);\n\t\tupdate = updateLink.bind(null, style, options);\n\t\tremove = function () {\n\t\t\tremoveStyleElement(style);\n\n\t\t\tif(style.href) URL.revokeObjectURL(style.href);\n\t\t};\n\t} else {\n\t\tstyle = createStyleElement(options);\n\t\tupdate = applyToTag.bind(null, style);\n\t\tremove = function () {\n\t\t\tremoveStyleElement(style);\n\t\t};\n\t}\n\n\tupdate(obj);\n\n\treturn function updateStyle (newObj) {\n\t\tif (newObj) {\n\t\t\tif (\n\t\t\t\tnewObj.css === obj.css &&\n\t\t\t\tnewObj.media === obj.media &&\n\t\t\t\tnewObj.sourceMap === obj.sourceMap\n\t\t\t) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tupdate(obj = newObj);\n\t\t} else {\n\t\t\tremove();\n\t\t}\n\t};\n}\n\nvar replaceText = (function () {\n\tvar textStore = [];\n\n\treturn function (index, replacement) {\n\t\ttextStore[index] = replacement;\n\n\t\treturn textStore.filter(Boolean).join('\\n');\n\t};\n})();\n\nfunction applyToSingletonTag (style, index, remove, obj) {\n\tvar css = remove ? \"\" : obj.css;\n\n\tif (style.styleSheet) {\n\t\tstyle.styleSheet.cssText = replaceText(index, css);\n\t} else {\n\t\tvar cssNode = document.createTextNode(css);\n\t\tvar childNodes = style.childNodes;\n\n\t\tif (childNodes[index]) style.removeChild(childNodes[index]);\n\n\t\tif (childNodes.length) {\n\t\t\tstyle.insertBefore(cssNode, childNodes[index]);\n\t\t} else {\n\t\t\tstyle.appendChild(cssNode);\n\t\t}\n\t}\n}\n\nfunction applyToTag (style, obj) {\n\tvar css = obj.css;\n\tvar media = obj.media;\n\n\tif(media) {\n\t\tstyle.setAttribute(\"media\", media)\n\t}\n\n\tif(style.styleSheet) {\n\t\tstyle.styleSheet.cssText = css;\n\t} else {\n\t\twhile(style.firstChild) {\n\t\t\tstyle.removeChild(style.firstChild);\n\t\t}\n\n\t\tstyle.appendChild(document.createTextNode(css));\n\t}\n}\n\nfunction updateLink (link, options, obj) {\n\tvar css = obj.css;\n\tvar sourceMap = obj.sourceMap;\n\n\t/*\n\t\tIf convertToAbsoluteUrls isn't defined, but sourcemaps are enabled\n\t\tand there is no publicPath defined then lets turn convertToAbsoluteUrls\n\t\ton by default.  Otherwise default to the convertToAbsoluteUrls option\n\t\tdirectly\n\t*/\n\tvar autoFixUrls = options.convertToAbsoluteUrls === undefined && sourceMap;\n\n\tif (options.convertToAbsoluteUrls || autoFixUrls) {\n\t\tcss = fixUrls(css);\n\t}\n\n\tif (sourceMap) {\n\t\t// http://stackoverflow.com/a/26603875\n\t\tcss += \"\\n/*# sourceMappingURL=data:application/json;base64,\" + btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))) + \" */\";\n\t}\n\n\tvar blob = new Blob([css], { type: \"text/css\" });\n\n\tvar oldSrc = link.href;\n\n\tlink.href = URL.createObjectURL(blob);\n\n\tif(oldSrc) URL.revokeObjectURL(oldSrc);\n}\n","\n/**\n * When source maps are enabled, `style-loader` uses a link element with a data-uri to\n * embed the css on the page. This breaks all relative urls because now they are relative to a\n * bundle instead of the current page.\n *\n * One solution is to only use full urls, but that may be impossible.\n *\n * Instead, this function \"fixes\" the relative urls to be absolute according to the current page location.\n *\n * A rudimentary test suite is located at `test/fixUrls.js` and can be run via the `npm test` command.\n *\n */\n\nmodule.exports = function (css) {\n  // get current location\n  var location = typeof window !== \"undefined\" && window.location;\n\n  if (!location) {\n    throw new Error(\"fixUrls requires window.location\");\n  }\n\n\t// blank or null?\n\tif (!css || typeof css !== \"string\") {\n\t  return css;\n  }\n\n  var baseUrl = location.protocol + \"//\" + location.host;\n  var currentDir = baseUrl + location.pathname.replace(/\\/[^\\/]*$/, \"/\");\n\n\t// convert each url(...)\n\t/*\n\tThis regular expression is just a way to recursively match brackets within\n\ta string.\n\n\t /url\\s*\\(  = Match on the word \"url\" with any whitespace after it and then a parens\n\t   (  = Start a capturing group\n\t     (?:  = Start a non-capturing group\n\t         [^)(]  = Match anything that isn't a parentheses\n\t         |  = OR\n\t         \\(  = Match a start parentheses\n\t             (?:  = Start another non-capturing groups\n\t                 [^)(]+  = Match anything that isn't a parentheses\n\t                 |  = OR\n\t                 \\(  = Match a start parentheses\n\t                     [^)(]*  = Match anything that isn't a parentheses\n\t                 \\)  = Match a end parentheses\n\t             )  = End Group\n              *\\) = Match anything and then a close parens\n          )  = Close non-capturing group\n          *  = Match anything\n       )  = Close capturing group\n\t \\)  = Match a close parens\n\n\t /gi  = Get all matches, not the first.  Be case insensitive.\n\t */\n\tvar fixedCss = css.replace(/url\\s*\\(((?:[^)(]|\\((?:[^)(]+|\\([^)(]*\\))*\\))*)\\)/gi, function(fullMatch, origUrl) {\n\t\t// strip quotes (if they exist)\n\t\tvar unquotedOrigUrl = origUrl\n\t\t\t.trim()\n\t\t\t.replace(/^\"(.*)\"$/, function(o, $1){ return $1; })\n\t\t\t.replace(/^'(.*)'$/, function(o, $1){ return $1; });\n\n\t\t// already a full url? no change\n\t\tif (/^(#|data:|http:\\/\\/|https:\\/\\/|file:\\/\\/\\/|\\s*$)/i.test(unquotedOrigUrl)) {\n\t\t  return fullMatch;\n\t\t}\n\n\t\t// convert the url to a full url\n\t\tvar newUrl;\n\n\t\tif (unquotedOrigUrl.indexOf(\"//\") === 0) {\n\t\t  \t//TODO: should we add protocol?\n\t\t\tnewUrl = unquotedOrigUrl;\n\t\t} else if (unquotedOrigUrl.indexOf(\"/\") === 0) {\n\t\t\t// path should be relative to the base url\n\t\t\tnewUrl = baseUrl + unquotedOrigUrl; // already starts with '/'\n\t\t} else {\n\t\t\t// path should be relative to current directory\n\t\t\tnewUrl = currentDir + unquotedOrigUrl.replace(/^\\.\\//, \"\"); // Strip leading './'\n\t\t}\n\n\t\t// send back the fixed url(...)\n\t\treturn \"url(\" + JSON.stringify(newUrl) + \")\";\n\t});\n\n\t// send back the fixed css\n\treturn fixedCss;\n};\n","import { IDisposable } from \"../Types\"\n\nexport interface IHTMLElementOption {\n  attrs?: { [key: string]: string }\n  class?: string\n  text?: string\n  on?: { [event: string]: EventListenerOrEventListenerObject }\n}\n\nexport function createElement(name: string, opts?: IHTMLElementOption, ...children: HTMLElement[]): HTMLElement {\n  const el = document.createElement(name)\n  if (opts) {\n    if (opts.attrs) {\n      for (const key in opts.attrs) { el.setAttribute(key, opts.attrs[key]) }\n    }\n    if (opts.class) {\n      el.setAttribute('class', opts.class)\n    }\n    if (opts.on) {\n      for (const ev in opts.on) { el.addEventListener(ev, opts.on[ev]) }\n    }\n    if (opts.text) {\n      el.innerText = opts.text\n    }\n  }\n  el.append(...children)\n  return el\n}\n\nexport function $div(opts?: IHTMLElementOption, ...children: HTMLElement[]): HTMLElement {\n  return createElement('div', opts, ...children)\n}\n\nexport function $span(opts?: IHTMLElementOption, ...children: HTMLElement[]): HTMLElement {\n  return createElement('span', opts, ...children)\n}\n\n/**\n * Adds a disposable listener to a node in the DOM, returning the disposable.\n * @param type The event type.\n * @param handler The handler for the listener.\n */\nexport function addDisposableDomListener(\n  node: Element | Window | Document,\n  type: string,\n  handler: (e: any) => void,\n  useCapture?: boolean\n): IDisposable {\n  node.addEventListener(type, handler, useCapture)\n  let disposed = false\n  return {\n    dispose: () => {\n      if (disposed) {\n        return\n      }\n      disposed = true\n      node.removeEventListener(type, handler, useCapture)\n    }\n  }\n}\n","import { IDisposable } from './Types'\nimport { addDisposableDomListener } from './ui/DomHelper'\n\nexport const TICK_INTERVAL = 1000 / 30\n\ntype TickerCallback = () => void\n\nexport interface ITicker {\n  readonly running: boolean\n  start(cb: TickerCallback): void\n  stop(): void\n  now(): number\n}\n\nexport class DummyTicker implements ITicker {\n  private _cb: TickerCallback | null = null\n  private _time: number = 0\n\n  constructor(private _interval: number = TICK_INTERVAL) { }\n\n  public get running(): boolean { return this._cb !== null }\n\n  public start(cb: TickerCallback): void {\n    this._cb = cb\n  }\n  public stop(): void {\n    this._cb = null\n  }\n  public now(): number {\n    return this._time\n  }\n  public tick(): void {\n    this._time += this._interval\n    if (this._cb) {\n      this._cb()\n    }\n  }\n}\n\nexport class IntervalTicker implements ITicker {\n  private _tid: NodeJS.Timeout | null = null\n\n  public constructor(public interval: number = TICK_INTERVAL) { }\n\n  public get running(): boolean { return this._tid != null }\n  public start(cb: TickerCallback): void {\n    this.stop()\n    this._tid = setInterval(cb, this.interval)\n  }\n  public stop(): void {\n    if (this._tid) {\n      clearInterval(this._tid)\n      this._tid = null\n    }\n  }\n  public now(): number { return Date.now() }\n}\n\nexport class AnimationFrameTicker implements ITicker {\n  private _rafid: number = 0\n  private _cb: TickerCallback | null = null\n\n  public get running(): boolean { return this._rafid != 0 }\n\n  private _tick() {\n    if (this._cb) { this._cb() }\n    if (this._rafid) {\n      this._rafid = requestAnimationFrame(this._tick.bind(this))\n    }\n  }\n  public start(cb: TickerCallback): void {\n    this.stop()\n    this._cb = cb\n    this._rafid = requestAnimationFrame(this._tick.bind(this))\n  }\n  public stop(): void {\n    if (this._rafid) {\n      cancelAnimationFrame(this._rafid)\n      this._rafid = 0\n    }\n    this._cb = null\n  }\n  public now(): number { return performance.now() }\n}\n\nconst TIMESCALE_MIN = 0, TIMESCALE_MAX = 5\n\nexport type ITimerState = 'Running' | 'Paused' | 'Stopped'\nexport type ITimerReadyCallback = () => void\nexport type ITimerTickCallback = (time: number) => void\nexport type ITimerStateChangeCallback = (state: ITimerState) => void\n\nconst NULL_FN = () => { }\n\nexport interface ITimer extends IDisposable {\n  readonly ready: boolean\n  readonly state: ITimerState\n  readonly duration: number\n  readonly progress: number\n  timescale: number\n  time: number\n\n  start(): void\n  pause(): void\n  stop(): void\n\n  isRunning(): boolean\n  isPaused(): boolean\n  isStopped(): boolean\n\n  onReady(cb: ITimerReadyCallback): ITimer\n  onTick(cb: ITimerTickCallback): ITimer\n  onStateChange(cb: ITimerStateChangeCallback): ITimer\n}\n\nexport class NullTimer implements ITimer {\n  ready: boolean = false\n  state: ITimerState = 'Paused'\n  duration: number = NaN\n  progress: number = NaN\n  timescale: number = 1\n  time: number = 0\n\n  start(): void { }\n  pause(): void { }\n  stop(): void { }\n  isRunning(): boolean { return false }\n  isPaused(): boolean { return true }\n  isStopped(): boolean { return false }\n  onReady(cb: ITimerReadyCallback): ITimer { return this }\n  onTick(cb: ITimerTickCallback): ITimer { return this }\n  onStateChange(cb: ITimerStateChangeCallback): ITimer { return this }\n  dispose(): void { }\n}\n\nexport class SimpleTimer implements ITimer {\n  public readonly ready = true\n  private _lasttime: number = 0\n  private _time: number = 0\n  private _timescale: number = 1\n  private _state: ITimerState = 'Paused'\n  private _onReadyCb: ITimerReadyCallback = NULL_FN\n  private _onTickCb: ITimerTickCallback = NULL_FN\n  private _onStateChangeCb: ITimerStateChangeCallback = NULL_FN\n\n  public constructor(\n    private _ticker: ITicker,\n    private _duration: number = Infinity\n  ) { }\n\n  public get duration(): number { return this._duration }\n\n  public get timescale(): number { return this._timescale }\n  public set timescale(timescale: number) {\n    if (timescale <= TIMESCALE_MIN || timescale > TIMESCALE_MAX) {\n      throw new Error(`timescale must be between ${TIMESCALE_MIN} and ${TIMESCALE_MAX}`)\n    }\n    this._timescale = timescale\n  }\n\n  public get time(): number { return this._time }\n  public set time(time: number) {\n    if (time < 0) { time = 0 }\n    if (time === this._time) { return }\n    if (time > this._duration) {\n      this._time = this._duration\n      this.stop()\n    } else {\n      this._time = time\n    }\n    this._lasttime = this._ticker.now()\n  }\n\n  private _setState(state: ITimerState): void {\n    if (this._state !== state) {\n      this._state = state\n      this._onStateChangeCb(this._state)\n    }\n  }\n\n  public get state(): ITimerState { return this._state }\n  public get progress(): number { return this.time / this._duration }\n\n  public onReady(cb: ITimerReadyCallback): ITimer {\n    this._onReadyCb = cb\n    this._onReadyCb() // This is intended to make initialization process the same as MediaTimer\n    return this\n  }\n  public onTick(cb: ITimerTickCallback): ITimer {\n    this._onTickCb = cb\n    return this\n  }\n  public onStateChange(cb: ITimerStateChangeCallback): ITimer {\n    this._onStateChangeCb = cb\n    return this\n  }\n\n  public isRunning(): boolean { return this._state === 'Running' }\n  public isPaused(): boolean { return this._state === 'Paused' }\n  public isStopped(): boolean { return this._state === 'Stopped' }\n\n  public start(): void {\n    if (this.isRunning()) { return }\n    if ((!this.isRunning()) && (this.time >= this._duration)) { return }\n    this._setState('Running')\n    this._lasttime = this._ticker.now()\n    this._ticker.start(() => {\n      const now = this._ticker.now()\n      const delta = (now - this._lasttime) * this._timescale\n      if ((this._time + delta) > this._duration) {\n        this._time = this._duration\n        this.stop()\n      } else {\n        this._time += delta\n      }\n      this._lasttime = now\n      this._onTickCb(this._time)\n    })\n  }\n  public pause(): void {\n    this._ticker.stop()\n    this._setState('Paused')\n  }\n  public stop(): void {\n    this._ticker.stop()\n    this._setState('Stopped')\n  }\n  public dispose(): void {\n    this._onReadyCb = this._onStateChangeCb = this._onTickCb = NULL_FN\n    this.stop()\n  }\n}\n\nexport class MediaTimer implements ITimer {\n  private _ready: boolean = false\n  private _state: ITimerState = 'Paused'\n  private _onReadyCb: ITimerReadyCallback = NULL_FN\n  private _onTickCb: ITimerTickCallback = NULL_FN\n  private _onStateChangeCb: ITimerStateChangeCallback = NULL_FN\n\n  private _disposes: IDisposable[] = []\n\n  constructor(\n    private _media: HTMLMediaElement,\n    private _ticker: ITicker = new AnimationFrameTicker()\n  ) {\n    this._disposes = [\n      addDisposableDomListener(_media, 'error', () => { console.error('error') }),\n      addDisposableDomListener(_media, 'waiting', () => { console.log('waiting') }),\n      addDisposableDomListener(_media, 'durationchange', () => { console.log('durationchange') }),\n      addDisposableDomListener(_media, 'canplay', () => { this._ready = true; this._onReadyCb() }),\n      addDisposableDomListener(_media, 'play', () => { this._setState('Running') }),\n      addDisposableDomListener(_media, 'pause', () => { this._setState('Paused') }),\n      addDisposableDomListener(_media, 'ended', () => {\n        this.stop()\n        this._onTickCb(this.time)\n      }),\n      addDisposableDomListener(_media, 'seeking', () => {\n        if (this.isRunning()) {\n          this._ticker.stop()\n        }\n      }),\n      addDisposableDomListener(_media, 'seeked', () => {\n        if (this.isRunning()) {\n          this._ticker.start(this._tick.bind(this))\n        }\n      }),\n    ]\n  }\n\n  public get ready(): boolean { return this._ready }\n  public get progress(): number { return this._media.currentTime / this._media.duration }\n  public get duration(): number { return this._media.duration * 1000 }\n  public get state(): ITimerState { return this._state }\n  public get time(): number { return this._media.currentTime * 1000 }\n  public set time(t: number) { if (this._ready) { this._media.currentTime = t / 1000 } }\n  public get timescale(): number { return this._media.playbackRate }\n  public set timescale(s: number) { this._media.playbackRate = s }\n\n  private _setState(state: ITimerState) {\n    if (this._state !== state) {\n      this._state = state\n      this._onStateChangeCb(this._state)\n    }\n  }\n\n  private _tick() {\n    // In Safari, the audio currentTime may exceed it's duration,\n    // or a little bit less than the duration\n    if (this.isStopped() && this._ticker.running) {\n      this.stop()\n    }\n    this._onTickCb(this.time)\n  }\n\n  public start(): void {\n    if (!this._ready) { return }\n    this._ticker.start(this._tick.bind(this))\n    this._media.play()\n  }\n  public pause(): void {\n    if (!this._ready) { return }\n    this._ticker.stop()\n    this._media.pause()\n  }\n  public stop(): void {\n    if (!this._ready) { return }\n    this._ticker.stop()\n    this._setState('Stopped')\n  }\n  public isRunning(): boolean { return !this._media.paused && !this._media.ended }\n  public isPaused(): boolean { return this._media.paused }\n  public isStopped(): boolean { return this._media.ended || (this._ready && (this._media.currentTime >= this._media.duration)) }\n\n  public onReady(cb: ITimerReadyCallback): ITimer {\n    this._onReadyCb = cb\n    return this\n  }\n  public onTick(cb: ITimerTickCallback): ITimer {\n    this._onTickCb = cb\n    return this\n  }\n  public onStateChange(cb: ITimerStateChangeCallback): ITimer {\n    this._onStateChangeCb = cb\n    return this\n  }\n  public dispose(): void {\n    this._ready = false\n    this._media.pause()\n    this._disposes.forEach(d => d.dispose())\n\n    this._onReadyCb = this._onStateChangeCb = this._onTickCb = NULL_FN\n    this._ticker.stop()\n    this._setState('Stopped')\n  }\n}\n","export function title(cls: Function, str: string) {\n  return cls.name + ': ' + str\n}\n\nexport class Slice<T> {\n  constructor(\n    private _arr: Array<T>,\n    private _start: number = 0,\n    private _end: number = _arr.length\n  ) {\n    if (_start < 0) { this._start = 0 }\n    if (_start > _arr.length) { this._start = _arr.length }\n    if (_end > _arr.length) { this._end = _arr.length }\n  }\n  public get(index: number): T {\n    if (index < 0 || index >= this.len()) { throw new Error('Index out of range') }\n    return this._arr[index + this._start]\n  }\n  public len(): number { return this._end - this._start }\n}\n\n\nfunction add0(n: number): string { return n < 10 ? '0' + n : '' + n }\n/**\n * Parse second to time string\n *\n * @param {Number} millisecond\n * @return {String} 00:00 or 00:00:00\n */\nexport function formatTime(millisecond: number): string {\n  const second = millisecond / 1000\n  if (second === 0 || second === Infinity || isNaN(millisecond)) {\n    return '00:00'\n  }\n  const hour = Math.floor(second / 3600)\n  const min = Math.floor((second - hour * 3600) / 60)\n  const sec = Math.floor(second - hour * 3600 - min * 60)\n  return (hour > 0 ? [hour, min, sec] : [min, sec]).map(add0).join(':')\n}\n","import { ICastEvent, ICastObject } from './Cast'\nimport { Slice } from './Utils'\nimport { IDisposable } from './Types'\n\nexport interface IFrame {\n  readonly startTime: number\n  readonly endTime: number\n  prev: IFrame | null\n  duration(): number\n  data(endTime: number, startTime?: number): string\n  snapshot(): string\n}\n\nclass NullFrame implements IFrame {\n  public prev: IFrame | null = null\n  constructor(\n    public readonly startTime: number = 0,\n    public readonly endTime: number = 0\n  ) { }\n  duration(): number { return this.endTime - this.startTime }\n  data(endTime: number, startTime?: number): string { return '' }\n  snapshot(): string {\n    if (this.prev) {\n      return this.prev.snapshot()\n    }\n    return ''\n  }\n}\n\nexport type FrameSnapshotFn = (s: string) => string\nexport const DEFAULT_FRAME_SNAPSHOT_FN = (s: string) => s\nexport const NULL_FRAME: IFrame = Object.freeze<NullFrame>(new NullFrame())\nexport const START_FRAME: IFrame = NULL_FRAME\n\nexport class CastEventsFrame implements IFrame {\n  private _prev: IFrame | null = null\n  private _snapshotCache: string | null = null\n\n  constructor(\n    public readonly startTime: number,\n    public readonly endTime: number,\n    private _events: Slice<ICastEvent>,\n    private _snapshotFn: FrameSnapshotFn = DEFAULT_FRAME_SNAPSHOT_FN\n  ) {\n    if (!_events.len()) { throw new Error('Invalid frame: empty events') }\n    if ((startTime < 0) || ((endTime - startTime) <= 0)) { // TODO: re-evaluate if endTime - startTime can be ZERO\n      throw new Error('Invalid frame: inccorrect time or size')\n    }\n    if (_events.get(0).time >= endTime) { throw new Error('Invalid frame: invalid events') }\n  }\n  public set prev(f: IFrame | null) {\n    if (f !== this._prev) {\n      this._prev = f\n      this._snapshotCache = null\n    }\n  }\n  public get prev(): IFrame | null {\n    return this._prev\n  }\n  public duration(): number {\n    return this.endTime - this.startTime\n  }\n  data(endTime: number, startTime: number = -1): string {\n    if ((endTime < this.startTime) || (endTime >= this.endTime)) {\n      throw new Error(`Cannot get data of time(${endTime})`)\n    }\n    const tmp: string[] = []\n    for (let i = 0; i < this._events.len(); i++) {\n      const ev = this._events.get(i)\n      if (ev.time > endTime) { break }\n      if (startTime < ev.time && ev.time <= endTime) {\n        tmp.push(ev.data)\n      }\n    }\n    return tmp.join('')\n  }\n  snapshot(): string {\n    if (this._snapshotCache !== null) {\n      return this._snapshotCache\n    }\n    const tmp: string[] = new Array<string>(this._events.len())\n    for (let i = 0; i < this._events.len(); i++) {\n      tmp[i] = this._events.get(i).data\n    }\n    const ret = (this.prev ? this._snapshotFn(this.prev.snapshot() + tmp.join('')) : tmp.join(''))\n    return this._snapshotCache = ret\n  }\n}\n\nconst DEFAULT_FRAME_EVENTS_STEP = 30\n\n\nexport interface IFrameQueue extends IDisposable {\n  isEnd(frame: IFrame): boolean\n  len(): number\n  frame(time: number): IFrame\n}\n\nexport class NullFrameQueue implements IFrameQueue {\n  isEnd(frame: IFrame): boolean { return true }\n  len(): number { return 0 }\n  frame(time: number): IFrame { return NULL_FRAME }\n  dispose(): void { }\n}\n\nexport class CastFrameQueue implements IFrameQueue {\n  private _endFrame: IFrame\n  private _frames: Array<IFrame> = []\n\n  constructor(\n    cast: ICastObject,\n    step: number = DEFAULT_FRAME_EVENTS_STEP,\n    snapshotFn: FrameSnapshotFn = DEFAULT_FRAME_SNAPSHOT_FN\n  ) {\n    const duration = cast.header.duration\n    const events = cast.events\n\n    this._frames = new Array<IFrame>(2 + Math.ceil(events.length / step))\n    this._frames[0] = START_FRAME\n    this._frames[this._frames.length - 1] = this._endFrame = new NullFrame(duration, duration)\n\n    for (let start = 0, n = 1, prev: IFrame = START_FRAME; start < events.length; start += step) {\n      const end = start + step\n      const slice = new Slice<ICastEvent>(cast.events, start, end) // TODO: Do a benchmark of [].slice vs Slice\n      const startTime = slice.get(0).time\n      const endTime = end < events.length ? events[end].time : duration\n      const f = new CastEventsFrame(startTime, endTime, slice, snapshotFn)\n      f.prev = prev\n      this._frames[n++] = prev = f\n    }\n\n    this._endFrame.prev = this._frames[this._frames.length - 2]\n  }\n  public isEnd(frame: IFrame): boolean { return frame === this._endFrame }\n  public len(): number { return this._frames.length - 2 }\n  public frame(time: number): IFrame {\n    if (time < 0) { throw new Error('Time must not be negative') }\n    if (!this.len()) { throw new Error('Empty frames') }\n    // bisearch\n    const frames = this._frames\n    let min = 1, mid = 0, max = this.len()\n    if (time >= this._frames[max].endTime) { return this._endFrame }\n    while (max >= min) {\n      mid = (min + max) >> 1\n      const f = frames[mid]\n      if (time >= f.endTime) {\n        min = mid + 1\n      } else if (time < f.startTime) {\n        max = mid - 1\n      } else {\n        return f\n      }\n    }\n    return NULL_FRAME\n  }\n  public dispose(): void { this._frames = [] }\n}\n","import { IDisposable } from './Types'\n\ninterface IListener<T> {\n  (arg: T): void\n}\n\nexport interface IEvent<T> {\n  (listener: IListener<T>): IDisposable\n}\n\nexport interface IEventEmitter<T> {\n  onEvent: IEvent<T>\n  fire(arg: T): void\n  dispose(): void\n}\n\nexport class EventEmitter<T> implements IEventEmitter<T> {\n  private _listeners: IListener<T>[] = []\n  private _event?: IEvent<T>\n  private _disposed: boolean = false\n\n  public get onEvent(): IEvent<T> {\n    if (!this._event) {\n      this._event = (listener: IListener<T>) => {\n        this._listeners.push(listener)\n        const disposable = {\n          dispose: () => {\n            if (!this._disposed) {\n              for (let i = 0; i < this._listeners.length; i++) {\n                if (this._listeners[i] === listener) {\n                  this._listeners.splice(i, 1)\n                  return\n                }\n              }\n            }\n          }\n        }\n        return disposable\n      }\n    }\n    return this._event\n  }\n\n  public fire(arg: T): void {\n    for (let i = 0; i < this._listeners.length; i++) {\n      this._listeners[i](arg)\n    }\n  }\n\n  public dispose(): void {\n    if (this._listeners) {\n      this._listeners.length = 0\n    }\n    this._disposed = true\n  }\n}\n","import { $div, addDisposableDomListener } from './DomHelper'\nimport { IComponent } from './Types'\nimport { EventEmitter, IEvent } from '../Events'\n\nexport class ProgressBarView implements IComponent {\n  public readonly element: HTMLElement\n\n  private _progressElement: HTMLElement\n  private _progressHover: HTMLElement\n\n  private _onSeek: EventEmitter<number> = new EventEmitter<number>()\n  public get onSeek(): IEvent<number> { return this._onSeek.onEvent }\n\n  private _progress: number = 0\n\n  constructor() {\n    const el = this.element = $div({ class: 'xp-progress-bar' },\n      this._progressElement = $div({ class: 'xp-progress' }),\n      this._progressHover = $div({ class: 'xp-progress-hover', attrs: { style: 'opacity: 0' } })\n    )\n\n    addDisposableDomListener(el, 'mousemove', this._updateProgressHover.bind(this))\n    addDisposableDomListener(el, 'mouseenter', () => this._progressHover.style.opacity = '1')\n    addDisposableDomListener(el, 'mouseleave', () => this._progressHover.style.opacity = '0')\n    addDisposableDomListener(el, 'mousedown', (evt: MouseEvent) => {\n      this._onSeek.fire((evt.clientX - el.getBoundingClientRect().left) / el.clientWidth)\n    })\n\n    this._updateProgress()\n  }\n\n  public get progress(): number {\n    return this._progress\n  }\n  public set progress(value: number) {\n    if (value !== this._progress) {\n      this._progress = Math.max(0.0, Math.min(value, 1.0))\n      this._updateProgress()\n    }\n  }\n\n  private _updateProgress() {\n    this._progressElement.style.width = (100 * this._progress) + '%'\n  }\n  private _updateProgressHover(evt: MouseEvent) {\n    const percent = (evt.clientX - this.element.getBoundingClientRect().left) / this.element.clientWidth\n    this._progressHover.style.width = (100 * percent) + '%'\n  }\n}\n","import Play from './icons/play.svg'\nimport Pause from './icons/pause.svg'\nimport Replay from './icons/replay.svg'\nimport VolumeHigh from './icons/volume-high.svg'\nimport VolumeLow from './icons/volume-low.svg'\nimport VolumeMute from './icons/volume-mute.svg'\nimport Warning from './icons/warning.svg'\n\nexport default {\n  Play,\n  Pause,\n  Replay,\n  VolumeHigh,\n  VolumeLow,\n  VolumeMute,\n  Warning\n}\n","import { XtermPlayer, IPlayerState } from 'xterm-player'\nimport { $div, $span, addDisposableDomListener } from './DomHelper'\nimport { ProgressBarView } from './ProgressBarView'\nimport { IComponent } from './Types'\nimport { IDisposable } from '../Types'\nimport { formatTime } from '../Utils'\nimport Icons from './Icons'\n\nexport class ControlBarView implements IComponent {\n  public readonly element: HTMLElement\n\n  private _playbackButton: HTMLElement\n  private _timeDisplay: HTMLElement\n  private _playbackRate: HTMLElement\n  private _playbackRateSettingBox: HTMLElement\n  private _playbackRateItems: HTMLElement[] = [\n    $div({ class: 'xp-setting-item', text: '0.5x', attrs: { 'data-rate': '0.5' } }),\n    $div({ class: 'xp-setting-item', text: 'Normal', attrs: { 'data-rate': '1.0' } }),\n    $div({ class: 'xp-setting-item', text: '1.5x', attrs: { 'data-rate': '1.5' } }),\n    $div({ class: 'xp-setting-item', text: '2.0x', attrs: { 'data-rate': '2.0' } }),\n  ]\n  private _volume: HTMLElement\n\n  private _progressBar: ProgressBarView = new ProgressBarView()\n\n  private _state: IPlayerState = 'Paused'\n  private _currentTime: number = 0\n  private _duration: number = 0\n\n  constructor(private _player: XtermPlayer) {\n    this.element = $div({ class: 'xp-control-bar' },\n      this._progressBar.element,\n      $div({ class: 'xp-control-bar-left' },\n        this._playbackButton = $div({ class: 'xp-icon-button' }),\n        this._volume = $div({ class: 'xp-icon-button' }),\n        this._timeDisplay = $span({ class: 'xp-time-display' }),\n      ),\n      $div({ class: 'xp-control-bar-right' },\n        $div({ class: 'xp-playback-rate-setting' },\n          this._playbackRate = $div({ class: 'xp-playback-rate', text: '1.0x' }),\n          this._playbackRateSettingBox = $div({ class: 'xp-setting-box' }, ...this._playbackRateItems)\n        )\n      )\n    )\n    addDisposableDomListener(this._playbackRate, 'click', () => {\n      this._playbackRateSettingBox.classList.toggle('xp-setting-box-open')\n    })\n    this._playbackRateItems.forEach(item => {\n      addDisposableDomListener(item, 'click', () => {\n        this._player.playbackRate = parseFloat(item.dataset['rate'] || '1')\n      })\n    })\n    addDisposableDomListener(this._volume, 'click', () => {\n      if (this._player.muted) {\n        this._player.muted = false\n      } else {\n        this._player.muted = true\n      }\n    })\n    this._player.onVolumeChanged(this._updateVolume.bind(this))\n    this._player.onMutedChanged(this._updateVolume.bind(this))\n    this._updatePlaybackButton()\n    this._updateTimeDisplay()\n    this._updateVolume()\n  }\n\n  public get state(): IPlayerState { return this._state }\n  public set state(s: IPlayerState) {\n    if (this._state !== s) {\n      this._state = s\n      this._updatePlaybackButton()\n    }\n  }\n  public get currentTime(): number { return this._currentTime }\n  public set currentTime(value: number) {\n    if (value !== this._currentTime) {\n      this._currentTime = value\n      this._updateTimeDisplay()\n      this._updateProgress()\n    }\n  }\n  public get playbackRate(): number { return this._player.playbackRate }\n  public set playbackRate(value: number) { this._playbackRate.innerText = value.toFixed(1) + 'x' }\n  public get duration(): number { return this._duration }\n  public set duration(value: number) {\n    if (value !== this._duration) {\n      this._duration = value\n      this._updateTimeDisplay()\n    }\n  }\n\n  public onPlaybackButtonClick(listener: (ev: any) => void): IDisposable {\n    return addDisposableDomListener(this._playbackButton, 'click', listener)\n  }\n  public onSeek(listener: (p: number) => void): IDisposable {\n    return this._progressBar.onSeek(listener)\n  }\n\n  private _updatePlaybackButton() {\n    switch (this.state) {\n      case 'Running':\n        this._playbackButton.innerHTML = Icons.Pause\n        break\n      case 'Paused':\n        this._playbackButton.innerHTML = Icons.Play\n        break\n      case 'Stopped':\n        this._playbackButton.innerHTML = Icons.Replay\n        break\n    }\n  }\n  private _updateTimeDisplay() {\n    this._timeDisplay.innerText = formatTime(this._currentTime) + ' / ' + formatTime(this._duration)\n  }\n  private _updateProgress() {\n    this._progressBar.progress = this.currentTime / this.duration\n  }\n  private _updateVolume() {\n    if (this._player.muted) {\n      this._volume.innerHTML = Icons.VolumeMute\n      return\n    }\n    const v = this._player.volume\n    if (v >= 0.95) {\n      this._volume.innerHTML = Icons.VolumeHigh\n    } else if (v > 0) {\n      this._volume.innerHTML = Icons.VolumeLow\n    } else {\n      this._volume.innerHTML = Icons.VolumeMute\n    }\n  }\n}\n","import { XtermPlayer, IPlayerState } from 'xterm-player'\nimport { $div, addDisposableDomListener } from './DomHelper'\nimport { ControlBarView } from './ControlBarView'\nimport { IComponent } from './Types'\nimport Icons from './Icons'\n\nexport class PlayerView implements IComponent {\n  public readonly element: HTMLElement\n  public readonly videoWrapper: HTMLElement\n  public readonly controlBar: ControlBarView = new ControlBarView(this._player)\n\n  private _bigButton: HTMLElement\n  private _spinner: HTMLElement\n\n  private _state: IPlayerState = 'Paused'\n\n  constructor(private _player: XtermPlayer) {\n    const el = this.element = $div({ class: 'xp', attrs: { tabindex: '0' } },\n      this.videoWrapper = $div({ class: 'video-wrapper' }),\n      this._bigButton = $div({ class: 'xp-overlay xp-overlay-center xp-big-button' }),\n      this._spinner = $div({ class: 'xp-overlay xp-overlay-center sk-flow' },\n        $div({ class: 'sk-flow-dot' }),\n        $div({ class: 'sk-flow-dot' }),\n        $div({ class: 'sk-flow-dot' }),\n      ),\n      this.controlBar.element\n    )\n    addDisposableDomListener(el, 'mouseenter', () => {\n      if (this.state === 'Running') {\n        this._showControlBar()\n      }\n    })\n    addDisposableDomListener(el, 'mouseleave', () => {\n      if (this.state === 'Running') {\n        this._hideControlBar()\n      }\n    })\n    addDisposableDomListener(el, 'keydown', (ev: KeyboardEvent) => {\n      ev.preventDefault()\n      switch (ev.code) {\n        case 'Space':\n          this._togglePlayPauseReplay()\n          break\n        case 'ArrowRight':\n          this._player.currentTime += 3000\n          break\n        case 'ArrowLeft':\n          this._player.currentTime -= 3000\n          break\n        case 'ArrowUp':\n          this._player.volume += 0.1\n          break\n        case 'ArrowDown':\n          this._player.volume -= 0.1\n          break\n      }\n    }, true)\n    addDisposableDomListener(this._bigButton, 'click', this._togglePlayPauseReplay.bind(this))\n\n    this.controlBar.onPlaybackButtonClick(this._togglePlayPauseReplay.bind(this))\n    this.controlBar.onSeek((percent: number) => {\n      if (this.state !== 'Loading') {\n        this._player.currentTime = percent * this._player.duration\n      }\n    })\n\n    this._player.onReady(() => {\n      this.controlBar.currentTime = this._player.currentTime\n      this.controlBar.duration = this._player.duration\n    })\n    this._player.onAfterRender(() => {\n      this.controlBar.currentTime = this._player.currentTime\n    })\n    this._player.onCurrentTimeChanged(() => {\n      this.controlBar.currentTime = this._player.currentTime\n    })\n    this._player.onPlaybackRateChanged(() => {\n      this.controlBar.playbackRate = this._player.playbackRate\n    })\n    this._player.onStateChanged(() => {\n      this.state = this._player.state\n    })\n\n    this._updateBigButton()\n  }\n\n  public get state(): IPlayerState { return this._state }\n  public set state(s: IPlayerState) {\n    if (this._state !== s) {\n      this._state = s\n      this.controlBar.state = s\n      this._updateBigButton()\n      if (this._state !== 'Running') {\n        this._showControlBar()\n      }\n    }\n  }\n\n  private _showControlBar(): void {\n    this.controlBar.element.style.opacity = '1'\n  }\n  private _hideControlBar(): void {\n    this.controlBar.element.style.opacity = '0'\n  }\n  private _updateBigButton(): void {\n    switch (this.state) {\n      case 'Paused':\n        this._bigButton.style.display = 'block'\n        this._bigButton.innerHTML = Icons.Pause\n        this._spinner.style.display = 'none'\n        break\n      case 'Stopped':\n        this._bigButton.style.display = 'block'\n        this._bigButton.innerHTML = Icons.Replay\n        this._spinner.style.display = 'none'\n        break\n      case 'Running':\n        this._bigButton.style.display = 'none'\n        this._spinner.style.display = 'none'\n        break\n      case 'Loading':\n        this._bigButton.style.display = 'none'\n        this._spinner.style.display = 'flex'\n        break\n      case 'Error':\n        this._bigButton.style.display = 'block'\n        this._bigButton.innerHTML = Icons.Warning\n        this._spinner.style.display = 'none'\n        break\n      default:\n        break\n    }\n  }\n  private _togglePlayPauseReplay(): void {\n    switch (this.state) {\n      case 'Running': this._player.pause(); break\n      case 'Stopped': this._player.replay(); break\n      case 'Paused': this._player.play(); break\n    }\n  }\n}\n","import * as xterm from 'xterm'\n\n// All themes can be found athttp://github.com/mbadolato/iTerm2-Color-Schemes/tree/master/vscode\n\nexport const SOLARIZED_DARK: xterm.ITheme = Object.freeze<xterm.ITheme>({\n  foreground: '#839496',\n  background: '#002b36',\n  black: '#073642',\n  blue: '#268bd2',\n  cyan: '#2aa198',\n  green: '#859900',\n  magenta: '#d33682',\n  red: '#dc322f',\n  white: '#eee8d5',\n  yellow: '#b58900',\n  brightBlack: '#002b36',\n  brightBlue: '#839496',\n  brightCyan: '#93a1a1',\n  brightGreen: '#586e75',\n  brightMagenta: '#6c71c4',\n  brightRed: '#cb4b16',\n  brightWhite: '#fdf6e3',\n  brightYellow: '#657b83'\n})\n\nexport const SOLARIZED_LIGHT: xterm.ITheme = Object.freeze<xterm.ITheme>({\n  cursor: '#839496',\n  cursorAccent: '#839496',\n  foreground: '#657b83',\n  background: '#fdf6e3',\n  black: '#073642',\n  blue: '#268bd2',\n  cyan: '#2aa198',\n  green: '#859900',\n  magenta: '#d33682',\n  red: '#dc322f',\n  white: '#eee8d5',\n  yellow: '#b58900',\n  brightBlack: '#002b36',\n  brightBlue: '#839496',\n  brightCyan: '#93a1a1',\n  brightGreen: '#586e75',\n  brightMagenta: '#6c71c4',\n  brightRed: '#cb4b16',\n  brightWhite: '#fdf6e3',\n  brightYellow: '#657b83'\n})\n","import { ICastObject } from './Cast'\nimport { MILLISECOND } from './Types'\n\nexport interface ICastParser {\n  parse(text: string): ICastObject\n}\n\nexport function parse(text: string): ICastObject {\n  const factories = [\n    AsciinemaCastParser,\n    TerminalizerParser\n  ]\n  for (let i = 0; i < factories.length; i++) {\n    const cls = factories[i]\n    try {\n      console.debug('trying ' + cls.name)\n      return (new cls()).parse(text)\n    } catch (e) { }\n  }\n  throw new Error('None of the available parsers can parse the cast')\n}\n\nexport class AsciinemaCastParser implements ICastParser {\n  public parse(text: string): ICastObject {\n    try {\n      return new AsciinemaCastV1Parser().parse(text)\n    } catch (err) {\n      return new AsciinemaCastV2Parser().parse(text)\n    }\n  }\n}\n\n/**\n * Asciinema cast v1 parser\n * https://github.com/asciinema/asciinema/blob/master/doc/asciicast-v1.md\n */\nexport class AsciinemaCastV1Parser implements ICastParser {\n  public parse(text: string): ICastObject {\n    const j = JSON.parse(text)\n    const stdouts: Array<[number, string]> = j.stdout\n\n    let timestamp = 0.0\n    const events = stdouts.map(e => {\n      timestamp += e[0] * MILLISECOND\n      return {\n        time: timestamp,\n        type: 'o',\n        data: e[1]\n      }\n    })\n\n    return {\n      header: {\n        version: 1,\n        width: j.width,\n        height: j.height,\n        duration: j.duration * MILLISECOND\n      },\n      events\n    }\n  }\n}\n\n/**\n * Asciinema cast v2 parser\n * https://github.com/asciinema/asciinema/blob/master/doc/asciicast-v2.md\n */\nexport class AsciinemaCastV2Parser implements ICastParser {\n  public parse(text: string): ICastObject {\n    const lines = text.trim().split('\\n').filter(txt => txt)\n\n    if (lines.length) {\n      const header = JSON.parse(lines[0])\n      const events = lines.slice(1)\n\n      const cast: ICastObject = {\n        header,\n        events: events.map(e => {\n          const j = JSON.parse(e)\n          return {\n            time: j[0] * MILLISECOND,\n            type: j[1],\n            data: j[2]\n          }\n        })\n      }\n\n      cast.header.duration = cast.events[cast.events.length - 1].time\n\n      return cast\n    } else {\n      throw new Error('Invalid cast format')\n    }\n  }\n}\n\nexport class TerminalizerParser implements ICastParser {\n  public parse(text: string): ICastObject {\n    const j = JSON.parse(text)\n    const records: Array<{ delay: number; content: string }> = j.records\n\n    let timestamp = 0.0\n    const events = records.map(rec => {\n      timestamp += rec.delay\n      return {\n        time: timestamp,\n        type: 'o',\n        data: rec.content\n      }\n    })\n\n    return {\n      header: {\n        version: 1,\n        width: j.config.cols,\n        height: j.config.rows,\n        duration: timestamp\n      },\n      events\n    }\n  }\n}\n","export interface IDisposable {\n  dispose(): void\n}\n\nexport const MILLISECOND = 1000\nexport const SECOND = 1\n","import { ICastObject } from './Cast'\nimport { parse } from './CastParser'\n\nasync function innerFetchCast(url: string): Promise<ICastObject> {\n  const res = await fetch(url)\n\n  return parse(await res.text())\n}\n\nexport default function fetchCast(url: string): Promise<ICastObject> {\n  return innerFetchCast(url)\n}\n","import 'xterm/css/xterm.css'\nimport './ui/ui.scss'\nimport * as xterm from 'xterm'\nimport { XtermPlayer as XtermPlayerApi, IPlayerOptions, IPlayerState } from 'xterm-player'\nimport { SimpleTimer, MediaTimer, AnimationFrameTicker, ITimer, NullTimer } from './Timer'\nimport { CastFrameQueue, NULL_FRAME, IFrame, NullFrameQueue, IFrameQueue } from './Frame'\nimport { EventEmitter, IEvent } from './Events'\nimport { PlayerView } from './ui/PlayerView'\nimport { SOLARIZED_DARK, SOLARIZED_LIGHT } from './Theme'\nimport fetchCast from './CastFetcher'\n\nfunction writeSync(term: xterm.Terminal, data: string) {\n  if (data.length) {\n    (<any>term)._core.writeSync(data)\n  }\n}\n\nfunction createTerminal(options: IPlayerOptions): xterm.Terminal {\n  const opts: xterm.ITerminalOptions = {\n    fontSize: options.fontSize || 15,\n    fontFamily: options.fontFamily || 'Consolas, Menlo',\n    fontWeight: options.fontWeight || 'normal',\n    fontWeightBold: options.fontWeightBold || 'bold',\n    theme: options.theme || {},\n  }\n\n  // Workaround: xterm.js only supports browser env via global variable Terminal,\n  // which is different from typescript usage.\n  // Use constructor from window.Terminal if it's browser env\n  if (xterm.Terminal) {\n    return new xterm.Terminal(opts)\n  }\n  if (window) {\n    return new window.Terminal(opts)\n  }\n  throw new Error('Cannot create xterm Terminal object')\n}\n\nexport class XtermPlayer implements XtermPlayerApi {\n  static readonly THEME_SOLARIZED_DARK: xterm.ITheme = SOLARIZED_DARK\n  static readonly THEME_SOLARIZED_LIGHT: xterm.ITheme = SOLARIZED_LIGHT\n\n  public readonly el: HTMLElement\n\n  private _url: string = ''\n  private _term: xterm.Terminal\n  private _view: PlayerView\n  private _timer: ITimer = new NullTimer()\n  private _queue: IFrameQueue = new NullFrameQueue()\n  private _audio: HTMLAudioElement\n\n  private _error: Error | null = null\n  private _loading: boolean = false\n  private _lasttime: number = 0\n  private _lastframe: IFrame = NULL_FRAME\n\n  private _onReady = new EventEmitter<void>()\n  private _onLoading = new EventEmitter<void>()\n  private _onAfterRender = new EventEmitter<void>()\n  private _onCurrentTimeChanged = new EventEmitter<number>()\n  private _onPlaybackRateChanged = new EventEmitter<number>()\n  private _onVolumeChanged = new EventEmitter<number>()\n  private _onMutedChanged = new EventEmitter<boolean>()\n  private _onStateChanged = new EventEmitter<IPlayerState>()\n\n  public get onReady(): IEvent<void> { return this._onReady.onEvent }\n  public get onLoading(): IEvent<void> { return this._onLoading.onEvent }\n  public get onAfterRender(): IEvent<void> { return this._onAfterRender.onEvent }\n  public get onCurrentTimeChanged(): IEvent<number> { return this._onCurrentTimeChanged.onEvent }\n  public get onPlaybackRateChanged(): IEvent<number> { return this._onPlaybackRateChanged.onEvent }\n  public get onVolumeChanged(): IEvent<number> { return this._onVolumeChanged.onEvent }\n  public get onMutedChanged(): IEvent<boolean> { return this._onMutedChanged.onEvent }\n  public get onStateChanged(): IEvent<IPlayerState> { return this._onStateChanged.onEvent }\n\n  constructor(\n    url: string,\n    el: HTMLElement,\n    options: IPlayerOptions = {}\n  ) {\n    this.el = el\n    this._url = url\n    this._term = createTerminal(options)\n    this._audio = new Audio()\n    this._view = new PlayerView(this)\n\n    el.append(this._view.element)\n    this._term.open(this._view.videoWrapper)\n    this._term.focus()\n\n    this._load()\n  }\n\n  private _load(): void {\n    this._error = null\n    this._loading = true\n\n    this._term.reset()\n    this._timer.dispose()\n    this._queue.dispose()\n    this._timer = new NullTimer()\n    this._queue = new NullFrameQueue()\n\n    this._onLoading.fire()\n    this._onStateChanged.fire(this.state)\n\n    fetchCast(this._url).then((cast) => {\n      this._term.resize(cast.header.width, cast.header.height)\n\n      if (cast.header.audio) {\n        this._timer = new MediaTimer(this._audio)\n        this._audio.src = cast.header.audio\n        this._audio.load()\n      } else {\n        this._timer = new SimpleTimer(new AnimationFrameTicker(), cast.header.duration)\n      }\n\n      this._queue = new CastFrameQueue(cast, 30)\n      this._timer.onReady(() => {\n        this._loading = false\n        this._onReady.fire()\n        this._onStateChanged.fire(this.state)\n        this._timer.onTick(this._render.bind(this))\n        this._timer.onStateChange(() => this._onStateChanged.fire(this.state))\n      })\n    }).catch(err => {\n      console.error(err)\n      this._error = err\n      this._onStateChanged.fire(this.state)\n    })\n  }\n\n  public get url(): string { return this._url }\n  public set url(url: string) {\n    if (url !== this._url) {\n      this._url = url\n      this._load()\n    }\n  }\n\n  public get options(): IPlayerOptions {\n    const term = this._term\n    return {\n      fontSize: term.getOption('fontSize'),\n      fontFamily: term.getOption('fontFamily'),\n      fontWeight: <xterm.FontWeight>term.getOption('fontWeight'),\n      fontWeightBold: <xterm.FontWeight>term.getOption('fontWeightBold'),\n      theme: term.getOption('theme')\n    }\n  }\n  public set options(opt: IPlayerOptions) {\n    const term = this._term\n    if (opt.fontSize) { term.setOption('fontSize', opt.fontSize) }\n    if (opt.fontFamily) { term.setOption('fontFamily', opt.fontFamily) }\n    if (opt.fontWeight) { term.setOption('fontWeight', opt.fontWeight) }\n    if (opt.fontWeightBold) { term.setOption('fontWeightBold', opt.fontWeightBold) }\n    if (opt.theme) { term.setOption('theme', opt.theme) }\n  }\n\n  public get playbackRate(): number { return this._timer.timescale }\n  public set playbackRate(rate: number) {\n    this._timer.timescale = rate\n    this._onPlaybackRateChanged.fire(this._timer.timescale)\n  }\n\n  public get currentTime(): number { return this._timer.time }\n  public set currentTime(time: number) {\n    this._timer.time = time\n    this._onCurrentTimeChanged.fire(this._timer.time)\n  }\n\n  public get volume(): number { return this._audio.volume }\n  public set volume(v: number) {\n    this._audio.volume = Math.min(Math.max(v, 0), 1)\n    this._onVolumeChanged.fire(this._audio.volume)\n  }\n\n  public get muted(): boolean { return this._audio.muted }\n  public set muted(m: boolean) {\n    this._audio.muted = m\n    this._onMutedChanged.fire(this._audio.muted)\n  }\n\n  public get duration(): number { return this._timer.duration }\n\n  public get state(): IPlayerState {\n    if (this._error) { return 'Error' }\n    return this._loading ? 'Loading' : this._timer.state\n  }\n\n  public play(): void { this._timer.start() }\n  public replay(): void {\n    this.currentTime = 0\n    this._timer.start()\n  }\n  public pause(): void { this._timer.pause() }\n\n  private _render(now: number): void {\n    // console.log('now ' + now.toFixed(2) + ' duration: ' + this._timer.duration.toFixed(2))\n    const frame = this._queue.frame(now)\n    if (this._lastframe === frame && now > this._lasttime) {\n      writeSync(this._term, frame.data(now, this._lasttime))\n    } else {\n      this._term.reset()\n      if (frame.prev) {\n        writeSync(this._term, frame.prev.snapshot() + frame.data(now))\n      } else {\n        writeSync(this._term, frame.data(now))\n      }\n    }\n    this._lastframe = frame\n    this._lasttime = now\n\n    this._onAfterRender.fire()\n  }\n}\n"],"sourceRoot":""}