!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("xterm").Terminal):"function"==typeof define&&define.amd?define("XtermPlayer",[["xterm","Terminal"]],e):"object"==typeof exports?exports.XtermPlayer=e(require("xterm").Terminal):t.XtermPlayer=e(t.Terminal)}(this,function(n){return o={},i.m=r=[function(t,e){t.exports=n},function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 36 36" class="icon"><path d="M 12,26 18.5,22 18.5,14 12,10 z M 18.5,22 25,18 25,18 18.5,14 z"></path></svg>'},function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 36 36" class="icon"><path d="M 12,26 16,26 16,10 12,10 z M 21,26 25,26 25,10 21,10 z"></path></svg>'},function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 36 36" class="icon"><path d="M 18,11 V 7 l -5,5 5,5 v -4 c 3.3,0 6,2.7 6,6 0,3.3 -2.7,6 -6,6 -3.3,0 -6,-2.7 -6,-6 h -2 c 0,4.4 3.6,8 8,8 4.4,0 8,-3.6 8,-8 0,-4.4 -3.6,-8 -8,-8 z" id="ytp-id-141"></path></svg>'},function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 36 36" class="icon"><path d="M8,21 L12,21 L17,26 L17,10 L12,15 L8,15 L8,21 Z M19,14 L19,22 C20.48,21.32 21.5,19.77 21.5,18 C21.5,16.26 20.48,14.74 19,14 ZM19,11.29 C21.89,12.15 24,14.83 24,18 C24,21.17 21.89,23.85 19,24.71 L19,26.77 C23.01,25.86 26,22.28 26,18 C26,13.72 23.01,10.14 19,9.23 L19,11.29 Z"></path></svg>'},function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 36 36" class="icon"><path d="M8,21 L12,21 L17,26 L17,10 L12,15 L8,15 L8,21 Z M19,14 L19,22 C20.48,21.32 21.5,19.77 21.5,18 C21.5,16.26 20.48,14.74 19,14 Z"></path></svg>'},function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 36 36" class="icon"><path d="m 21.48,17.98 c 0,-1.77 -1.02,-3.29 -2.5,-4.03 v 2.21 l 2.45,2.45 c .03,-0.2 .05,-0.41 .05,-0.63 z m 2.5,0 c 0,.94 -0.2,1.82 -0.54,2.64 l 1.51,1.51 c .66,-1.24 1.03,-2.65 1.03,-4.15 0,-4.28 -2.99,-7.86 -7,-8.76 v 2.05 c 2.89,.86 5,3.54 5,6.71 z M 9.25,8.98 l -1.27,1.26 4.72,4.73 H 7.98 v 6 H 11.98 l 5,5 v -6.73 l 4.25,4.25 c -0.67,.52 -1.42,.93 -2.25,1.18 v 2.06 c 1.38,-0.31 2.63,-0.95 3.69,-1.81 l 2.04,2.05 1.27,-1.27 -9,-9 -7.72,-7.72 z m 7.72,.99 -2.09,2.08 2.09,2.09 V 9.98 z"></path></svg>'},function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 24 24" class="icon"><path d="M11 15h2v2h-2zm0-8h2v6h-2zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"></path></svg>'},function(t,e,n){},function(t,e,n){var r=n(10);"string"==typeof r&&(r=[[t.i,r,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};n(12)(r,i);r.locals&&(t.exports=r.locals)},function(t,e,n){(t.exports=n(11)(!1)).push([t.i,"@-webkit-keyframes sk-flow{0%,80%,to{transform:scale(.3)}40%{transform:scale(1)}}@keyframes sk-flow{0%,80%,to{transform:scale(.3)}40%{transform:scale(1)}}.xp{outline:none;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.xp .sk-flow{width:52px;height:52px;display:flex;align-items:center;justify-content:space-between}.xp .sk-flow-dot{width:25%;height:25%;background-color:#fff;border-radius:50%;-webkit-animation:sk-flow 1.4s cubic-bezier(.455,.03,.515,.955) 0s infinite both;animation:sk-flow 1.4s cubic-bezier(.455,.03,.515,.955) 0s infinite both}.xp .sk-flow-dot:first-child{-webkit-animation-delay:-.3s;animation-delay:-.3s}.xp .sk-flow-dot:nth-child(2){-webkit-animation-delay:-.15s;animation-delay:-.15s}.xp *,.xp :after,.xp :before{box-sizing:border-box}.xp .xterm-viewport{overflow:hidden}.xp svg.icon{fill:#fff}.xp .xp-overlay{position:absolute;z-index:999}.xp .xp-overlay-center{left:50%;top:50%;transform:translate(-50%,-50%)}.xp .xp-overlay.xp-big-button{cursor:pointer;font-size:0;width:80px;background-color:red;border-radius:25px;box-shadow:0 0 80px 0 rgba(0,0,0,.5)}.xp .xp-control-bar{position:absolute;left:12px;right:12px;bottom:0;height:36px;color:#eee;background-color:rgba(0,0,0,.7);text-align:left;z-index:60;transition:opacity .2s ease-in-out .1s}.xp .xp-control-bar *{box-sizing:inherit;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.xp .xp-control-bar-left{position:absolute;height:100%;left:0;bottom:0}.xp .xp-control-bar-right{position:absolute;height:100%;right:0;bottom:0}.xp .xp-control-bar .xp-playback-rate-setting{display:inline-block;height:100%}.xp .xp-control-bar .xp-setting-box{display:none;width:70px;text-align:center;position:absolute;bottom:50px;right:0;padding:10px 0;border:1px solid hsla(0,0%,100%,.5)}.xp .xp-control-bar .xp-setting-box-open{display:block}.xp .xp-control-bar .xp-setting-box .xp-setting-item{cursor:pointer;padding:5px 0}.xp .xp-control-bar .xp-playback-rate{display:inline-block;width:40px;line-height:36px;text-align:center;font-size:14px;vertical-align:middle;cursor:pointer}.xp .xp-control-bar .xp-icon-button{display:inline-block;vertical-align:middle;cursor:pointer;height:100%;width:36px}.xp .xp-control-bar .xp-time-display{vertical-align:middle;padding:0 5px;line-height:36px;font-size:14px;white-space:nowrap;cursor:default}.xp .xp-progress-bar{position:absolute;bottom:36px;width:100%;height:5px;z-index:99;background-color:hsla(0,0%,100%,.2);cursor:pointer;transition:transform .1s cubic-bezier(.4,0,1,1)}.xp .xp-progress-bar:hover{transform:scaleY(1.5);transform-origin:center}.xp .xp-progress{position:absolute;left:0;height:100%;z-index:99;background-color:red}.xp .xp-progress-hover{position:absolute;left:0;width:100%;height:100%;background-color:hsla(0,0%,100%,.5);transform-origin:0 0}",""])},function(t,e,n){"use strict";t.exports=function(n){var s=[];return s.toString=function(){return this.map(function(t){var e=function(t,e){var n=t[1]||"",r=t[3];if(!r)return n;if(e&&"function"==typeof btoa){var i=function(t){return"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(t))))+" */"}(r),o=r.sources.map(function(t){return"/*# sourceURL="+r.sourceRoot+t+" */"});return[n].concat(o).concat([i]).join("\n")}return[n].join("\n")}(t,n);return t[2]?"@media "+t[2]+"{"+e+"}":e}).join("")},s.i=function(t,e){"string"==typeof t&&(t=[[null,t,""]]);for(var n={},r=0;r<this.length;r++){var i=this[r][0];null!=i&&(n[i]=!0)}for(r=0;r<t.length;r++){var o=t[r];null!=o[0]&&n[o[0]]||(e&&!o[2]?o[2]=e:e&&(o[2]="("+o[2]+") and ("+e+")"),s.push(o))}},s}},function(t,e,r){var n,i,o,u={},p=(n=function(){return window&&document&&document.all&&!window.atob},function(){return void 0===i&&(i=n.apply(this,arguments)),i}),s=(o={},function(t,e){if("function"==typeof t)return t();if(void 0===o[t]){var n=function(t,e){return e?e.querySelector(t):document.querySelector(t)}.call(this,t,e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(t){n=null}o[t]=n}return o[t]}),c=null,l=0,a=[],h=r(13);function f(t,e){for(var n=0;n<t.length;n++){var r=t[n],i=u[r.id];if(i){i.refs++;for(var o=0;o<i.parts.length;o++)i.parts[o](r.parts[o]);for(;o<r.parts.length;o++)i.parts.push(b(r.parts[o],e))}else{var s=[];for(o=0;o<r.parts.length;o++)s.push(b(r.parts[o],e));u[r.id]={id:r.id,refs:1,parts:s}}}}function d(t,e){for(var n=[],r={},i=0;i<t.length;i++){var o=t[i],s=e.base?o[0]+e.base:o[0],a={css:o[1],media:o[2],sourceMap:o[3]};r[s]?r[s].parts.push(a):n.push(r[s]={id:s,parts:[a]})}return n}function _(t,e){var n=s(t.insertInto);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var r=a[a.length-1];if("top"===t.insertAt)r?r.nextSibling?n.insertBefore(e,r.nextSibling):n.appendChild(e):n.insertBefore(e,n.firstChild),a.push(e);else if("bottom"===t.insertAt)n.appendChild(e);else{if("object"!=typeof t.insertAt||!t.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var i=s(t.insertAt.before,n);n.insertBefore(e,i)}}function y(t){if(null!==t.parentNode){t.parentNode.removeChild(t);var e=a.indexOf(t);0<=e&&a.splice(e,1)}}function m(t){var e=document.createElement("style");if(void 0===t.attrs.type&&(t.attrs.type="text/css"),void 0===t.attrs.nonce){var n=function(){0;return r.nc}();n&&(t.attrs.nonce=n)}return g(e,t.attrs),_(t,e),e}function g(e,n){Object.keys(n).forEach(function(t){e.setAttribute(t,n[t])})}function b(e,t){var n,r,i,o,s,a;if(t.transform&&e.css){if(!(o="function"==typeof t.transform?t.transform(e.css):t.transform.default(e.css)))return function(){};e.css=o}if(t.singleton){var u=l++;n=c=c||m(t),r=x.bind(null,n,u,!1),i=x.bind(null,n,u,!0)}else i=e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(s=t,a=document.createElement("link"),void 0===s.attrs.type&&(s.attrs.type="text/css"),s.attrs.rel="stylesheet",g(a,s.attrs),_(s,a),r=function(t,e,n){var r=n.css,i=n.sourceMap,o=void 0===e.convertToAbsoluteUrls&&i;(e.convertToAbsoluteUrls||o)&&(r=h(r));i&&(r+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(i))))+" */");var s=new Blob([r],{type:"text/css"}),a=t.href;t.href=URL.createObjectURL(s),a&&URL.revokeObjectURL(a)}.bind(null,n=a,t),function(){y(n),n.href&&URL.revokeObjectURL(n.href)}):(n=m(t),r=function(t,e){var n=e.css,r=e.media;r&&t.setAttribute("media",r);if(t.styleSheet)t.styleSheet.cssText=n;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(n))}}.bind(null,n),function(){y(n)});return r(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;r(e=t)}else i()}}t.exports=function(t,s){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(s=s||{}).attrs="object"==typeof s.attrs?s.attrs:{},s.singleton||"boolean"==typeof s.singleton||(s.singleton=p()),s.insertInto||(s.insertInto="head"),s.insertAt||(s.insertAt="bottom");var a=d(t,s);return f(a,s),function(t){for(var e=[],n=0;n<a.length;n++){var r=a[n];(i=u[r.id]).refs--,e.push(i)}t&&f(d(t,s),s);for(n=0;n<e.length;n++){var i;if(0===(i=e[n]).refs){for(var o=0;o<i.parts.length;o++)i.parts[o]();delete u[i.id]}}}};var v,w=(v=[],function(t,e){return v[t]=e,v.filter(Boolean).join("\n")});function x(t,e,n,r){var i=n?"":r.css;if(t.styleSheet)t.styleSheet.cssText=w(e,i);else{var o=document.createTextNode(i),s=t.childNodes;s[e]&&t.removeChild(s[e]),s.length?t.insertBefore(o,s[e]):t.appendChild(o)}}},function(t,e){t.exports=function(t){var e="undefined"!=typeof window&&window.location;if(!e)throw new Error("fixUrls requires window.location");if(!t||"string"!=typeof t)return t;var i=e.protocol+"//"+e.host,o=i+e.pathname.replace(/\/[^\/]*$/,"/");return t.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(t,e){var n,r=e.trim().replace(/^"(.*)"$/,function(t,e){return e}).replace(/^'(.*)'$/,function(t,e){return e});return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(r)?t:(n=0===r.indexOf("//")?r:0===r.indexOf("/")?i+r:o+r.replace(/^\.\//,""),"url("+JSON.stringify(n)+")")})}},function(t,e,n){"use strict";n.r(e);n(8),n(9);var r=n(0),i=function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r};function o(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var i=document.createElement(t);if(e){if(e.attrs)for(var o in e.attrs)i.setAttribute(o,e.attrs[o]);if(e.class&&i.setAttribute("class",e.class),e.on)for(var s in e.on)i.addEventListener(s,e.on[s]);e.text&&(i.innerText=e.text)}return i.append.apply(i,n),i}function s(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return o.apply(void 0,i(["div",t],e))}function a(t,e,n,r){t.addEventListener(e,n,r);var i=!1;return{dispose:function(){i||(i=!0,t.removeEventListener(e,n,r))}}}Object.defineProperty(u.prototype,"running",{get:function(){return null!==this._cb},enumerable:!0,configurable:!0}),u.prototype.start=function(t){this._cb=t},u.prototype.stop=function(){this._cb=null},u.prototype.now=function(){return this._time},u.prototype.tick=function(){this._time+=this._interval,this._cb&&this._cb()};function u(t){void 0===t&&(t=1e3/30),this._interval=t,this._cb=null,this._time=0}Object.defineProperty(p.prototype,"running",{get:function(){return null!=this._tid},enumerable:!0,configurable:!0}),p.prototype.start=function(t){this.stop(),this._tid=setInterval(t,this.interval)},p.prototype.stop=function(){this._tid&&(clearInterval(this._tid),this._tid=null)},p.prototype.now=function(){return Date.now()};function p(t){void 0===t&&(t=1e3/30),this.interval=t,this._tid=null}var c=(Object.defineProperty(l.prototype,"running",{get:function(){return 0!=this._rafid},enumerable:!0,configurable:!0}),l.prototype._tick=function(){this._cb&&this._cb(),this._rafid&&(this._rafid=requestAnimationFrame(this._tick.bind(this)))},l.prototype.start=function(t){this.stop(),this._cb=t,this._rafid=requestAnimationFrame(this._tick.bind(this))},l.prototype.stop=function(){this._rafid&&(cancelAnimationFrame(this._rafid),this._rafid=0),this._cb=null},l.prototype.now=function(){return performance.now()},l);function l(){this._rafid=0,this._cb=null}function h(){}var f=(d.prototype.start=function(){},d.prototype.pause=function(){},d.prototype.stop=function(){},d.prototype.isRunning=function(){return!1},d.prototype.isPaused=function(){return!0},d.prototype.isStopped=function(){return!1},d.prototype.onReady=function(t){return this},d.prototype.onTick=function(t){return this},d.prototype.onStateChange=function(t){return this},d.prototype.dispose=function(){},d);function d(){this.ready=!1,this.state="Paused",this.duration=NaN,this.progress=NaN,this.timescale=1,this.time=0}var _=(Object.defineProperty(y.prototype,"duration",{get:function(){return this._duration},enumerable:!0,configurable:!0}),Object.defineProperty(y.prototype,"timescale",{get:function(){return this._timescale},set:function(t){if(t<=0||5<t)throw new Error("timescale must be between 0 and 5");this._timescale=t},enumerable:!0,configurable:!0}),Object.defineProperty(y.prototype,"time",{get:function(){return this._time},set:function(t){t<0&&(t=0),t!==this._time&&(t>this._duration?(this._time=this._duration,this.stop()):this._time=t,this._lasttime=this._ticker.now())},enumerable:!0,configurable:!0}),y.prototype._setState=function(t){this._state!==t&&(this._state=t,this._onStateChangeCb(this._state))},Object.defineProperty(y.prototype,"state",{get:function(){return this._state},enumerable:!0,configurable:!0}),Object.defineProperty(y.prototype,"progress",{get:function(){return this.time/this._duration},enumerable:!0,configurable:!0}),y.prototype.onReady=function(t){return this._onReadyCb=t,this._onReadyCb(),this},y.prototype.onTick=function(t){return this._onTickCb=t,this},y.prototype.onStateChange=function(t){return this._onStateChangeCb=t,this},y.prototype.isRunning=function(){return"Running"===this._state},y.prototype.isPaused=function(){return"Paused"===this._state},y.prototype.isStopped=function(){return"Stopped"===this._state},y.prototype.start=function(){var n=this;this.isRunning()||!this.isRunning()&&this.time>=this._duration||(this._setState("Running"),this._lasttime=this._ticker.now(),this._ticker.start(function(){var t=n._ticker.now(),e=(t-n._lasttime)*n._timescale;n._time+e>n._duration?(n._time=n._duration,n.stop()):n._time+=e,n._lasttime=t,n._onTickCb(n._time)}))},y.prototype.pause=function(){this._ticker.stop(),this._setState("Paused")},y.prototype.stop=function(){this._ticker.stop(),this._setState("Stopped")},y.prototype.dispose=function(){this._onReadyCb=this._onStateChangeCb=this._onTickCb=h,this.stop()},y);function y(t,e){void 0===e&&(e=1/0),this._ticker=t,this._duration=e,this.ready=!0,this._lasttime=0,this._time=0,this._timescale=1,this._state="Paused",this._onReadyCb=h,this._onTickCb=h,this._onStateChangeCb=h}var m=(Object.defineProperty(g.prototype,"ready",{get:function(){return this._ready},enumerable:!0,configurable:!0}),Object.defineProperty(g.prototype,"progress",{get:function(){return this._media.currentTime/this._media.duration},enumerable:!0,configurable:!0}),Object.defineProperty(g.prototype,"duration",{get:function(){return 1e3*this._media.duration},enumerable:!0,configurable:!0}),Object.defineProperty(g.prototype,"state",{get:function(){return this._state},enumerable:!0,configurable:!0}),Object.defineProperty(g.prototype,"time",{get:function(){return 1e3*this._media.currentTime},set:function(t){this._ready&&(this._media.currentTime=t/1e3)},enumerable:!0,configurable:!0}),Object.defineProperty(g.prototype,"timescale",{get:function(){return this._media.playbackRate},set:function(t){this._media.playbackRate=t},enumerable:!0,configurable:!0}),g.prototype._setState=function(t){this._state!==t&&(this._state=t,this._onStateChangeCb(this._state))},g.prototype._tick=function(){this.isStopped()&&this._ticker.running&&this.stop(),this._onTickCb(this.time)},g.prototype.start=function(){this._ready&&(this._ticker.start(this._tick.bind(this)),this._media.play())},g.prototype.pause=function(){this._ready&&(this._ticker.stop(),this._media.pause())},g.prototype.stop=function(){this._ready&&(this._ticker.stop(),this._setState("Stopped"))},g.prototype.isRunning=function(){return!this._media.paused&&!this._media.ended},g.prototype.isPaused=function(){return this._media.paused},g.prototype.isStopped=function(){return this._media.ended||this._ready&&this._media.currentTime>=this._media.duration},g.prototype.onReady=function(t){return this._onReadyCb=t,this},g.prototype.onTick=function(t){return this._onTickCb=t,this},g.prototype.onStateChange=function(t){return this._onStateChangeCb=t,this},g.prototype.dispose=function(){this._ready=!1,this._media.pause(),this._disposes.forEach(function(t){return t.dispose()}),this._onReadyCb=this._onStateChangeCb=this._onTickCb=h,this._ticker.stop(),this._setState("Stopped")},g);function g(t,e){var n=this;void 0===e&&(e=new c),this._media=t,this._ticker=e,this._ready=!1,this._state="Paused",this._onReadyCb=h,this._onTickCb=h,this._onStateChangeCb=h,this._disposes=[],this._disposes=[a(t,"error",function(){console.error("error")}),a(t,"waiting",function(){console.log("waiting")}),a(t,"durationchange",function(){console.log("durationchange")}),a(t,"canplay",function(){n._ready=!0,n._onReadyCb()}),a(t,"play",function(){n._setState("Running")}),a(t,"pause",function(){n._setState("Paused")}),a(t,"ended",function(){n.stop(),n._onTickCb(n.time)}),a(t,"seeking",function(){n.isRunning()&&n._ticker.stop()}),a(t,"seeked",function(){n.isRunning()&&n._ticker.start(n._tick.bind(n))})]}var b=(v.prototype.get=function(t){if(t<0||t>=this.len())throw new Error("Index out of range");return this._arr[t+this._start]},v.prototype.len=function(){return this._end-this._start},v);function v(t,e,n){void 0===e&&(e=0),void 0===n&&(n=t.length),this._arr=t,this._start=e,this._end=n,e<0&&(this._start=0),e>t.length&&(this._start=t.length),n>t.length&&(this._end=t.length)}function w(t){return t<10?"0"+t:""+t}function x(t){var e=t/1e3;if(0==e||e==1/0||isNaN(t))return"00:00";var n=Math.floor(e/3600),r=Math.floor((e-3600*n)/60),i=Math.floor(e-3600*n-60*r);return(0<n?[n,r,i]:[r,i]).map(w).join(":")}var k=(C.prototype.duration=function(){return this.endTime-this.startTime},C.prototype.data=function(t,e){return""},C.prototype.snapshot=function(){return this.prev?this.prev.snapshot():""},C);function C(t,e){void 0===t&&(t=0),void 0===e&&(e=0),this.startTime=t,this.endTime=e,this.prev=null}function P(t){return t}var T=Object.freeze(new k),R=T,S=(Object.defineProperty(B.prototype,"prev",{get:function(){return this._prev},set:function(t){t!==this._prev&&(this._prev=t,this._snapshotCache=null)},enumerable:!0,configurable:!0}),B.prototype.duration=function(){return this.endTime-this.startTime},B.prototype.data=function(t,e){if(void 0===e&&(e=-1),t<this.startTime||t>=this.endTime)throw new Error("Cannot get data of time("+t+")");for(var n=[],r=0;r<this._events.len();r++){var i=this._events.get(r);if(i.time>t)break;e<i.time&&i.time<=t&&n.push(i.data)}return n.join("")},B.prototype.snapshot=function(){if(null!==this._snapshotCache)return this._snapshotCache;for(var t=new Array(this._events.len()),e=0;e<this._events.len();e++)t[e]=this._events.get(e).data;var n=this.prev?this._snapshotFn(this.prev.snapshot()+t.join("")):t.join("");return this._snapshotCache=n},B);function B(t,e,n,r){if(void 0===r&&(r=P),this.startTime=t,this.endTime=e,this._events=n,this._snapshotFn=r,this._prev=null,this._snapshotCache=null,!n.len())throw new Error("Invalid frame: empty events");if(t<0||e-t<=0)throw new Error("Invalid frame: inccorrect time or size");if(n.get(0).time>=e)throw new Error("Invalid frame: invalid events")}var O=(j.prototype.isEnd=function(t){return!0},j.prototype.len=function(){return 0},j.prototype.frame=function(t){return T},j.prototype.dispose=function(){},j);function j(){}var L=(M.prototype.isEnd=function(t){return t===this._endFrame},M.prototype.len=function(){return this._frames.length-2},M.prototype.frame=function(t){if(t<0)throw new Error("Time must not be negative");if(!this.len())throw new Error("Empty frames");var e=this._frames,n=1,r=0,i=this.len();if(t>=this._frames[i].endTime)return this._endFrame;for(;n<=i;){var o=e[r=n+i>>1];if(t>=o.endTime)n=r+1;else{if(!(t<o.startTime))return o;i=r-1}}return T},M.prototype.dispose=function(){this._frames=[]},M);function M(t,e,n){void 0===e&&(e=30),void 0===n&&(n=P),this._frames=[];var r=t.header.duration,i=t.events;this._frames=new Array(2+Math.ceil(i.length/e)),this._frames[0]=R,this._frames[this._frames.length-1]=this._endFrame=new k(r,r);for(var o=0,s=1,a=R;o<i.length;o+=e){var u=o+e,p=new b(t.events,o,u),c=p.get(0).time,l=u<i.length?i[u].time:r,h=new S(c,l,p,n);h.prev=a,this._frames[s++]=a=h}this._endFrame.prev=this._frames[this._frames.length-2]}var E=(Object.defineProperty(z.prototype,"onEvent",{get:function(){var n=this;return this._event||(this._event=function(e){return n._listeners.push(e),{dispose:function(){if(!n._disposed)for(var t=0;t<n._listeners.length;t++)if(n._listeners[t]===e)return void n._listeners.splice(t,1)}}}),this._event},enumerable:!0,configurable:!0}),z.prototype.fire=function(t){for(var e=0;e<this._listeners.length;e++)this._listeners[e](t)},z.prototype.dispose=function(){this._listeners&&(this._listeners.length=0),this._disposed=!0},z);function z(){this._listeners=[],this._disposed=!1}var A=(Object.defineProperty(H.prototype,"onSeek",{get:function(){return this._onSeek.onEvent},enumerable:!0,configurable:!0}),Object.defineProperty(H.prototype,"progress",{get:function(){return this._progress},set:function(t){t!==this._progress&&(this._progress=Math.max(0,Math.min(t,1)),this._updateProgress())},enumerable:!0,configurable:!0}),H.prototype._updateProgress=function(){this._progressElement.style.width=100*this._progress+"%"},H.prototype._updateProgressHover=function(t){var e=(t.clientX-this.element.getBoundingClientRect().left)/this.element.clientWidth;this._progressHover.style.width=100*e+"%"},H);function H(){var e=this;this._onSeek=new E,this._progress=0;var n=this.element=s({class:"xp-progress-bar"},this._progressElement=s({class:"xp-progress"}),this._progressHover=s({class:"xp-progress-hover",attrs:{style:"opacity: 0"}}));a(n,"mousemove",this._updateProgressHover.bind(this)),a(n,"mouseenter",function(){return e._progressHover.style.opacity="1"}),a(n,"mouseleave",function(){return e._progressHover.style.opacity="0"}),a(n,"mousedown",function(t){e._onSeek.fire((t.clientX-n.getBoundingClientRect().left)/n.clientWidth)}),this._updateProgress()}var I=n(1),U=n.n(I),W=n(2),F=n.n(W),N=n(3),V=n.n(N),D=n(4),q=n.n(D),J=n(5),Z=n.n(J),G=n(6),X=n.n(G),$=n(7),Y=n.n($),K={Play:U.a,Pause:F.a,Replay:V.a,VolumeHigh:q.a,VolumeLow:Z.a,VolumeMute:X.a,Warning:Y.a},Q=function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r},tt=(Object.defineProperty(et.prototype,"state",{get:function(){return this._state},set:function(t){this._state!==t&&(this._state=t,this._updatePlaybackButton())},enumerable:!0,configurable:!0}),Object.defineProperty(et.prototype,"currentTime",{get:function(){return this._currentTime},set:function(t){t!==this._currentTime&&(this._currentTime=t,this._updateTimeDisplay(),this._updateProgress())},enumerable:!0,configurable:!0}),Object.defineProperty(et.prototype,"playbackRate",{get:function(){return this._player.playbackRate},set:function(t){this._playbackRate.innerText=t.toFixed(1)+"x"},enumerable:!0,configurable:!0}),Object.defineProperty(et.prototype,"duration",{get:function(){return this._duration},set:function(t){t!==this._duration&&(this._duration=t,this._updateTimeDisplay())},enumerable:!0,configurable:!0}),et.prototype.onPlaybackButtonClick=function(t){return a(this._playbackButton,"click",t)},et.prototype.onSeek=function(t){return this._progressBar.onSeek(t)},et.prototype._updatePlaybackButton=function(){switch(this.state){case"Running":this._playbackButton.innerHTML=K.Pause;break;case"Paused":this._playbackButton.innerHTML=K.Play;break;case"Stopped":this._playbackButton.innerHTML=K.Replay}},et.prototype._updateTimeDisplay=function(){this._timeDisplay.innerText=x(this._currentTime)+" / "+x(this._duration)},et.prototype._updateProgress=function(){this._progressBar.progress=this.currentTime/this.duration},et.prototype._updateVolume=function(){if(this._player.muted)this._volume.innerHTML=K.VolumeMute;else{var t=this._player.volume;this._volume.innerHTML=.95<=t?K.VolumeHigh:0<t?K.VolumeLow:K.VolumeMute}},et);function et(t){var e=this;this._player=t,this._playbackRateItems=[s({class:"xp-setting-item",text:"0.5x",attrs:{"data-rate":"0.5"}}),s({class:"xp-setting-item",text:"Normal",attrs:{"data-rate":"1.0"}}),s({class:"xp-setting-item",text:"1.5x",attrs:{"data-rate":"1.5"}}),s({class:"xp-setting-item",text:"2.0x",attrs:{"data-rate":"2.0"}})],this._progressBar=new A,this._state="Paused",this._currentTime=0,this._duration=0,this.element=s({class:"xp-control-bar"},this._progressBar.element,s({class:"xp-control-bar-left"},this._playbackButton=s({class:"xp-icon-button"}),this._volume=s({class:"xp-icon-button"}),this._timeDisplay=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return o.apply(void 0,i(["span",t],e))}({class:"xp-time-display"})),s({class:"xp-control-bar-right"},s({class:"xp-playback-rate-setting"},this._playbackRate=s({class:"xp-playback-rate",text:"1.0x"}),this._playbackRateSettingBox=s.apply(void 0,Q([{class:"xp-setting-box"}],this._playbackRateItems))))),a(this._playbackRate,"click",function(){e._playbackRateSettingBox.classList.toggle("xp-setting-box-open")}),this._playbackRateItems.forEach(function(t){a(t,"click",function(){e._player.playbackRate=parseFloat(t.dataset.rate||"1")})}),a(this._volume,"click",function(){e._player.muted?e._player.muted=!1:e._player.muted=!0}),this._player.onVolumeChanged(this._updateVolume.bind(this)),this._player.onMutedChanged(this._updateVolume.bind(this)),this._updatePlaybackButton(),this._updateTimeDisplay(),this._updateVolume()}var nt=(Object.defineProperty(rt.prototype,"state",{get:function(){return this._state},set:function(t){this._state!==t&&(this._state=t,this.controlBar.state=t,this._updateBigButton(),"Running"!==this._state&&this._showControlBar())},enumerable:!0,configurable:!0}),rt.prototype._showControlBar=function(){this.controlBar.element.style.opacity="1"},rt.prototype._hideControlBar=function(){this.controlBar.element.style.opacity="0"},rt.prototype._updateBigButton=function(){switch(this.state){case"Paused":this._bigButton.style.display="block",this._bigButton.innerHTML=K.Pause,this._spinner.style.display="none";break;case"Stopped":this._bigButton.style.display="block",this._bigButton.innerHTML=K.Replay,this._spinner.style.display="none";break;case"Running":this._bigButton.style.display="none",this._spinner.style.display="none";break;case"Loading":this._bigButton.style.display="none",this._spinner.style.display="flex";break;case"Error":this._bigButton.style.display="block",this._bigButton.innerHTML=K.Warning,this._spinner.style.display="none"}},rt.prototype._togglePlayPauseReplay=function(){switch(this.state){case"Running":this._player.pause();break;case"Stopped":this._player.replay();break;case"Paused":this._player.play()}},rt);function rt(t){var e=this;this._player=t,this.controlBar=new tt(this._player),this._state="Paused";var n=this.element=s({class:"xp",attrs:{tabindex:"0"}},this.videoWrapper=s({class:"video-wrapper"}),this._bigButton=s({class:"xp-overlay xp-overlay-center xp-big-button"}),this._spinner=s({class:"xp-overlay xp-overlay-center sk-flow"},s({class:"sk-flow-dot"}),s({class:"sk-flow-dot"}),s({class:"sk-flow-dot"})),this.controlBar.element);a(n,"mouseenter",function(){"Running"===e.state&&e._showControlBar()}),a(n,"mouseleave",function(){"Running"===e.state&&e._hideControlBar()}),a(n,"keydown",function(t){switch(t.preventDefault(),t.code){case"Space":e._togglePlayPauseReplay();break;case"ArrowRight":e._player.currentTime+=3e3;break;case"ArrowLeft":e._player.currentTime-=3e3;break;case"ArrowUp":e._player.volume+=.1;break;case"ArrowDown":e._player.volume-=.1}},!0),a(this._bigButton,"click",this._togglePlayPauseReplay.bind(this)),this.controlBar.onPlaybackButtonClick(this._togglePlayPauseReplay.bind(this)),this.controlBar.onSeek(function(t){"Loading"!==e.state&&(e._player.currentTime=t*e._player.duration)}),this._player.onReady(function(){e.controlBar.currentTime=e._player.currentTime,e.controlBar.duration=e._player.duration}),this._player.onAfterRender(function(){e.controlBar.currentTime=e._player.currentTime}),this._player.onCurrentTimeChanged(function(){e.controlBar.currentTime=e._player.currentTime}),this._player.onPlaybackRateChanged(function(){e.controlBar.playbackRate=e._player.playbackRate}),this._player.onStateChanged(function(){e.state=e._player.state}),this._updateBigButton()}var it=Object.freeze({foreground:"#839496",background:"#002b36",black:"#073642",blue:"#268bd2",cyan:"#2aa198",green:"#859900",magenta:"#d33682",red:"#dc322f",white:"#eee8d5",yellow:"#b58900",brightBlack:"#002b36",brightBlue:"#839496",brightCyan:"#93a1a1",brightGreen:"#586e75",brightMagenta:"#6c71c4",brightRed:"#cb4b16",brightWhite:"#fdf6e3",brightYellow:"#657b83"}),ot=Object.freeze({cursor:"#839496",cursorAccent:"#839496",foreground:"#657b83",background:"#fdf6e3",black:"#073642",blue:"#268bd2",cyan:"#2aa198",green:"#859900",magenta:"#d33682",red:"#dc322f",white:"#eee8d5",yellow:"#b58900",brightBlack:"#002b36",brightBlue:"#839496",brightCyan:"#93a1a1",brightGreen:"#586e75",brightMagenta:"#6c71c4",brightRed:"#cb4b16",brightWhite:"#fdf6e3",brightYellow:"#657b83"});function st(t){for(var e=[at,ft],n=0;n<e.length;n++){var r=e[n];try{return console.debug("trying "+r.name),(new r).parse(t)}catch(t){}}throw new Error("None of the available parsers can parse the cast")}var at=(ut.prototype.parse=function(e){try{return(new pt).parse(e)}catch(t){return(new lt).parse(e)}},ut);function ut(){}var pt=(ct.prototype.parse=function(t){var e=JSON.parse(t),n=e.stdout,r=0,i=n.map(function(t){return{time:r+=1e3*t[0],type:"o",data:t[1]}});return{header:{version:1,width:e.width,height:e.height,duration:1e3*e.duration},events:i}},ct);function ct(){}var lt=(ht.prototype.parse=function(t){var e=t.trim().split("\n").filter(function(t){return t});if(e.length){var n={header:JSON.parse(e[0]),events:e.slice(1).map(function(t){var e=JSON.parse(t);return{time:1e3*e[0],type:e[1],data:e[2]}})};return n.header.duration=n.events[n.events.length-1].time,n}throw new Error("Invalid cast format")},ht);function ht(){}var ft=(dt.prototype.parse=function(t){var e=JSON.parse(t),n=e.records,r=0,i=n.map(function(t){return{time:r+=t.delay,type:"o",data:t.content}});return{header:{version:1,width:e.config.cols,height:e.config.rows,duration:r},events:i}},dt);function dt(){}var _t=function(t,s,a,u){return new(a=a||Promise)(function(n,e){function r(t){try{o(u.next(t))}catch(t){e(t)}}function i(t){try{o(u.throw(t))}catch(t){e(t)}}function o(t){var e;t.done?n(t.value):((e=t.value)instanceof a?e:new a(function(t){t(e)})).then(r,i)}o((u=u.apply(t,s||[])).next())})},yt=function(n,r){var i,o,s,t,a={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return t={next:e(0),throw:e(1),return:e(2)},"function"==typeof Symbol&&(t[Symbol.iterator]=function(){return this}),t;function e(e){return function(t){return function(e){if(i)throw new TypeError("Generator is already executing.");for(;a;)try{if(i=1,o&&(s=2&e[0]?o.return:e[0]?o.throw||((s=o.return)&&s.call(o),0):o.next)&&!(s=s.call(o,e[1])).done)return s;switch(o=0,s&&(e=[2&e[0],s.value]),e[0]){case 0:case 1:s=e;break;case 4:return a.label++,{value:e[1],done:!1};case 5:a.label++,o=e[1],e=[0];continue;case 7:e=a.ops.pop(),a.trys.pop();continue;default:if(!(s=0<(s=a.trys).length&&s[s.length-1])&&(6===e[0]||2===e[0])){a=0;continue}if(3===e[0]&&(!s||e[1]>s[0]&&e[1]<s[3])){a.label=e[1];break}if(6===e[0]&&a.label<s[1]){a.label=s[1],s=e;break}if(s&&a.label<s[2]){a.label=s[2],a.ops.push(e);break}s[2]&&a.ops.pop(),a.trys.pop();continue}e=r.call(n,a)}catch(t){e=[6,t],o=0}finally{i=s=0}if(5&e[0])throw e[1];return{value:e[0]?e[1]:void 0,done:!0}}([e,t])}}};function mt(t){return function(r){return _t(this,void 0,void 0,function(){var e,n;return yt(this,function(t){switch(t.label){case 0:return[4,fetch(r)];case 1:return e=t.sent(),n=st,[4,e.text()];case 2:return[2,n.apply(void 0,[t.sent()])]}})})}(t)}function gt(t,e){e.length&&t._core.writeSync(e)}n.d(e,"XtermPlayer",function(){return bt});var bt=(Object.defineProperty(vt.prototype,"onReady",{get:function(){return this._onReady.onEvent},enumerable:!0,configurable:!0}),Object.defineProperty(vt.prototype,"onLoading",{get:function(){return this._onLoading.onEvent},enumerable:!0,configurable:!0}),Object.defineProperty(vt.prototype,"onAfterRender",{get:function(){return this._onAfterRender.onEvent},enumerable:!0,configurable:!0}),Object.defineProperty(vt.prototype,"onCurrentTimeChanged",{get:function(){return this._onCurrentTimeChanged.onEvent},enumerable:!0,configurable:!0}),Object.defineProperty(vt.prototype,"onPlaybackRateChanged",{get:function(){return this._onPlaybackRateChanged.onEvent},enumerable:!0,configurable:!0}),Object.defineProperty(vt.prototype,"onVolumeChanged",{get:function(){return this._onVolumeChanged.onEvent},enumerable:!0,configurable:!0}),Object.defineProperty(vt.prototype,"onMutedChanged",{get:function(){return this._onMutedChanged.onEvent},enumerable:!0,configurable:!0}),Object.defineProperty(vt.prototype,"onStateChanged",{get:function(){return this._onStateChanged.onEvent},enumerable:!0,configurable:!0}),vt.prototype._load=function(){var e=this;this._error=null,this._loading=!0,this._term.reset(),this._timer.dispose(),this._queue.dispose(),this._timer=new f,this._queue=new O,this._onLoading.fire(),this._onStateChanged.fire(this.state),mt(this._url).then(function(t){e._term.resize(t.header.width,t.header.height),t.header.audio?(e._timer=new m(e._audio),e._audio.src=t.header.audio,e._audio.load()):e._timer=new _(new c,t.header.duration),e._queue=new L(t,30),e._timer.onReady(function(){e._loading=!1,e._onReady.fire(),e._onStateChanged.fire(e.state),e._timer.onTick(e._render.bind(e)),e._timer.onStateChange(function(){return e._onStateChanged.fire(e.state)})})}).catch(function(t){console.error(t),e._error=t,e._onStateChanged.fire(e.state)})},Object.defineProperty(vt.prototype,"url",{get:function(){return this._url},set:function(t){t!==this._url&&(this._url=t,this._load())},enumerable:!0,configurable:!0}),Object.defineProperty(vt.prototype,"options",{get:function(){var t=this._term;return{fontSize:t.getOption("fontSize"),fontFamily:t.getOption("fontFamily"),fontWeight:t.getOption("fontWeight"),fontWeightBold:t.getOption("fontWeightBold"),theme:t.getOption("theme")}},set:function(t){var e=this._term;t.fontSize&&e.setOption("fontSize",t.fontSize),t.fontFamily&&e.setOption("fontFamily",t.fontFamily),t.fontWeight&&e.setOption("fontWeight",t.fontWeight),t.fontWeightBold&&e.setOption("fontWeightBold",t.fontWeightBold),t.theme&&e.setOption("theme",t.theme)},enumerable:!0,configurable:!0}),Object.defineProperty(vt.prototype,"playbackRate",{get:function(){return this._timer.timescale},set:function(t){this._timer.timescale=t,this._onPlaybackRateChanged.fire(this._timer.timescale)},enumerable:!0,configurable:!0}),Object.defineProperty(vt.prototype,"currentTime",{get:function(){return this._timer.time},set:function(t){this._timer.time=t,this._onCurrentTimeChanged.fire(this._timer.time)},enumerable:!0,configurable:!0}),Object.defineProperty(vt.prototype,"volume",{get:function(){return this._audio.volume},set:function(t){this._audio.volume=Math.min(Math.max(t,0),1),this._onVolumeChanged.fire(this._audio.volume)},enumerable:!0,configurable:!0}),Object.defineProperty(vt.prototype,"muted",{get:function(){return this._audio.muted},set:function(t){this._audio.muted=t,this._onMutedChanged.fire(this._audio.muted)},enumerable:!0,configurable:!0}),Object.defineProperty(vt.prototype,"duration",{get:function(){return this._timer.duration},enumerable:!0,configurable:!0}),Object.defineProperty(vt.prototype,"state",{get:function(){return this._error?"Error":this._loading?"Loading":this._timer.state},enumerable:!0,configurable:!0}),vt.prototype.play=function(){this._timer.start()},vt.prototype.replay=function(){this.currentTime=0,this._timer.start()},vt.prototype.pause=function(){this._timer.pause()},vt.prototype._render=function(t){var e=this._queue.frame(t);this._lastframe===e&&t>this._lasttime?gt(this._term,e.data(t,this._lasttime)):(this._term.reset(),e.prev?gt(this._term,e.prev.snapshot()+e.data(t)):gt(this._term,e.data(t))),this._lastframe=e,this._lasttime=t,this._onAfterRender.fire()},vt.THEME_SOLARIZED_DARK=it,vt.THEME_SOLARIZED_LIGHT=ot,vt);function vt(t,e,n){void 0===n&&(n={}),this._url="",this._timer=new f,this._queue=new O,this._error=null,this._loading=!1,this._lasttime=0,this._lastframe=T,this._onReady=new E,this._onLoading=new E,this._onAfterRender=new E,this._onCurrentTimeChanged=new E,this._onPlaybackRateChanged=new E,this._onVolumeChanged=new E,this._onMutedChanged=new E,this._onStateChanged=new E,this.el=e,this._url=t,this._term=function(t){var e={fontSize:t.fontSize||15,fontFamily:t.fontFamily||"Consolas, Menlo",fontWeight:t.fontWeight||"normal",fontWeightBold:t.fontWeightBold||"bold",theme:t.theme||{}};if(r.Terminal)return new r.Terminal(e);if(window)return new window.Terminal(e);throw new Error("Cannot create xterm Terminal object")}(n),this._audio=new Audio,this._view=new nt(this),e.append(this._view.element),this._term.open(this._view.videoWrapper),this._term.focus(),this._load()}}],i.c=o,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(n,r,function(t){return e[t]}.bind(null,r));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=14);function i(t){if(o[t])return o[t].exports;var e=o[t]={i:t,l:!1,exports:{}};return r[t].call(e.exports,e,e.exports,i),e.l=!0,e.exports}var r,o});
//# sourceMappingURL=xterm-player.min.js.map