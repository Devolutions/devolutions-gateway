[package]
name = "jetsocat"
version = "2021.1.7"
authors = ["Devolutions Inc."]
edition = "2021"
description = "WebSocket toolkit for jet protocol related operations"

[features]
default = ["rustls", "detect-proxy"]
verbose = ["slog/max_level_trace"]
detect-proxy = ["proxy_cfg"]
rustls = ["async-tungstenite/tokio-rustls-webpki-roots"]
native-tls = ["async-tungstenite/tokio-native-tls"]

[dependencies]

# jet protocol support
jet-proto = { path = "../jet-proto" }
uuid = "0.8.2"

# jmux protocol support
jmux-proxy = { path = "../jmux-proxy" }

# proxy support
jetsocat-proxy = { path = "./proxy" }
proxy_cfg = { version = "0.4.0", optional = true }

# cli
seahorse = "1.1.2"

# async
tokio = { version = "1.14.0", features = ["io-std", "io-util", "net", "rt", "sync", "process", "rt-multi-thread", "macros"] }
futures-util = "0.3.17"
async-tungstenite = "0.16.1"
# TODO: compare with https://lib.rs/crates/tokio-tungstenite (smaller size? compile time?)
# Also have a look at https://lib.rs/crates/ws_stream_tungstenite (should we use it? is there something to learn from it?)

# logging
slog = "2.7.0"
slog-async = "2.7.0"
slog-term = "2.8.0"

# error handling
anyhow = "1.0.51"

# location of special directories
dirs-next = "2.0.0"
